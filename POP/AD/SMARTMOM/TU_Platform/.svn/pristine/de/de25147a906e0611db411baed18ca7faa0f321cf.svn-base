(function(n){n.jqx.jqxWidget("jqxPanel","",{});n.extend(n.jqx._jqxPanel.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,scrollBarSize:n.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};return n.extend(!0,this,t),t},createInstance:function(){this.render()},render:function(){var e=this,f,i,r,u,t;if(n.jqx.utilities.scrollBarSize!=15&&(this.scrollBarSize=n.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),f=n("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><\/div>"),!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");i=this.host.children();this._rtl=!1;i.length>0&&i.css("direction")=="rtl"&&(this.rtl=!0,this._rtl=!0);this.host.wrapInner(f);r=this.host.find("#verticalScrollBar");r[0].id=this.element.id+"verticalScrollBar";this.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});u=this.host.find("#horizontalScrollBar");u[0].id=this.element.id+"horizontalScrollBar";this.hScrollBar=u.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});this.content=this.host.find("#panelContent");this.wrapper=this.host.find("#panelWrapper");this.content.addClass(this.toThemeProperty("jqx-widget-content"));this.wrapper[0].id=this.wrapper[0].id+this.element.id;this.content[0].id=this.content[0].id+this.element.id;this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollBar.css("visibility","inherit");this.hScrollBar.css("visibility","inherit");this.vScrollInstance=n.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=n.data(this.hScrollBar[0],"jqxScrollBar").instance;t=this;this.propertyChangeMap.disabled=function(){t.vScrollBar.jqxScrollBar({disabled:t.disabled});t.hScrollBar.jqxScrollBar({disabled:t.disabled})};this.vScrollBar.jqxScrollBar({disabled:this.disabled});this.hScrollBar.jqxScrollBar({disabled:this.disabled});this._addHandlers();this.width==null&&(this.width=this.content.width());this.height==null&&(this.height=this.content.height());this._arrange();this.contentWidth=t.content[0].scrollWidth;this.contentHeight=t.content[0].scrollHeight;this.autoUpdate&&t._autoUpdate();this.propertyChangeMap.autoUpdate=function(){t.autoUpdate?t._autoUpdate():(clearInterval(t.autoUpdateId),t.autoUpdateId=null)};this.addHandler(n(window),"unload",function(){t.autoUpdateId!=null&&(clearInterval(t.autoUpdateId),t.autoUpdateId=null,t.destroy())});this._updateTouchScrolling();this._render()},hiddenParent:function(){return n.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var t=this,i;this.touchMode==!0&&n.jqx.mobile.setMobileSimulator(this.element);i=this.isTouchDevice();i&&(n.jqx.mobile.touchScroll(this.element,t.vScrollInstance.max,function(n,i){var r;t.vScrollBar.css("visibility")!="hidden"&&(r=t.vScrollInstance.value,t.vScrollInstance.setPosition(r+i));t.hScrollBar.css("visibility")!="hidden"&&(r=t.hScrollInstance.value,t.hScrollInstance.setPosition(r+n))},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange());this.vScrollBar.jqxScrollBar({touchMode:this.touchMode});this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var t=n.jqx.mobile.isTouchDevice();return this.touchMode==!0?t=!0:this.touchMode==!1&&(t=!1),t&&this.touchModeStyle!=!1&&(this.scrollBarSize=n.jqx.utilities.touchScrollBarSize),t},append:function(n){n!=null&&(this.content.append(n),this._arrange())},setcontent:function(n){this.content[0].innerHTML=n;this._arrange();var t=this;setTimeout(function(){t._arrange()},100)},prepend:function(n){n!=null&&(this.content.prepend(n),this._arrange())},clearcontent:function(){this.content.text("");this.content.children().remove();this._arrange()},remove:function(t){t!=null&&(n(t).remove(),this._arrange())},_autoUpdate:function(){var n=this;this.autoUpdateId=setInterval(function(){var i=n.content[0].scrollWidth,r=n.content[0].scrollHeight,t=!1;n.contentWidth!=i&&(n.contentWidth=i,t=!0);n.contentHeight!=r&&(n.contentHeight=r,t=!0);t&&n._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var t=this;this.addHandler(this.vScrollBar,"valueChanged",function(){t._render(t)});this.addHandler(this.hScrollBar,"valueChanged",function(){t._render(t)});this.addHandler(this.host,"mousewheel",function(n){t.wheel(n,t)});this.addHandler(this.wrapper,"scroll",function(){t.wrapper[0].scrollTop!=0&&(t.wrapper[0].scrollTop=0);t.wrapper[0].scrollLeft!=0&&(t.wrapper[0].scrollLeft=0)});this.addHandler(this.host,"mouseleave",function(){t.focused=!1});this.addHandler(this.host,"focus",function(){t.focused=!0});this.addHandler(this.host,"blur",function(){t.focused=!1});this.addHandler(this.host,"mouseenter",function(){t.focused=!0});n.jqx.utilities.resize(this.host,function(){n.jqx.isHidden(t.host)||t._arrange(!1)})},resize:function(n,t){this.width=n;this.height=t;this._arrange(!1)},_removeHandlers:function(){var t=this;this.removeHandler(this.vScrollBar,"valueChanged");this.removeHandler(this.hScrollBar,"valueChanged");this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.wrapper,"scroll");this.removeHandler(n(window),"resize."+this.element.id)},wheel:function(t,i){var r=0,u;if(t.originalEvent&&n.jqx.browser.msie&&t.originalEvent.wheelDelta&&(r=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?r=t.wheelDelta/120:t.detail&&(r=-t.detail/3),r)return u=i._handleDelta(r),u||t.preventDefault&&t.preventDefault(),u?!1:u;t.preventDefault&&t.preventDefault();t.returnValue=!1},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden")return!1;var n=this.vScrollInstance;return n.value+n.largestep<=n.max?(n.setPosition(n.value+n.largestep),!0):n.value+n.largestep!=n.max?(n.setPosition(n.max),!0):!1},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden")return!1;var n=this.vScrollInstance;return n.value-n.largestep>=n.min?(n.setPosition(n.value-n.largestep),!0):n.value-n.largestep!=n.min?(n.setPosition(n.min),!0):!1},_handleDelta:function(n){var t,i;return this.focused&&(t=this.vScrollInstance.value,n<0?this.scrollDown():this.scrollUp(),i=this.vScrollInstance.value,t!=i)?!1:!0},_render:function(n){n==undefined&&(n=this);var i=n.vScrollInstance.value,t=n.hScrollInstance.value;this.rtl&&this.hScrollBar[0].style.visibility!="hidden"&&(t=this._rtl==!1?n.hScrollInstance.max-t:-n.hScrollInstance.value);n.content.css({left:-t+"px",top:-i+"px"})},scrollTo:function(n,t){n!=undefined&&t!=undefined&&(this.vScrollInstance.setPosition(t),this.hScrollInstance.setPosition(n))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var t=this.scrollBarSize;return isNaN(t)&&(t=parseInt(t),t=isNaN(t)?"17px":t+"px"),this.isTouchDevice()&&(t=n.jqx.utilities.touchScrollBarSize),parseInt(t)},_getScrollArea:function(){var r=0,t,i;if(this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),n.jqx.browser.msie&&n.jqx.browser.version<10&&(r=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl"),t=parseInt(this.content[0].scrollWidth),n.each(this.content.children(),function(){t=Math.max(t,this.scrollWidth);t=Math.max(t,n(this).outerWidth())}),n.jqx.browser.msie&&n.jqx.browser.version<10&&this.content.css("left",r),i=parseInt(this.content[0].scrollHeight),this.content.css("overflow","visible"),n.jqx.browser.msie&&n.jqx.browser.version<9){i=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":i=parseInt(this.content[0].scrollHeight);t=parseInt(this.content[0].scrollWidth);break;case"verticalWrap":case"verticalwrap":i=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:t,height:i}},_arrange:function(t){var s,h,c;t!==!1&&(this.width!=null&&this.host.width(this.width),this.height!=null&&this.host.height(this.height));var i=this._getScrollSize(),l=this.host.width(),e=this.host.height(),a=this._getScrollArea(),u=a.width,o=a.height,f=o-parseInt(Math.round(this.host.height())),r=u-parseInt(Math.round(this.host.width()));this.horizontalScrollBarMax!=undefined&&(r=this.horizontalScrollBarMax);this.verticalScrollBarMax!=undefined&&(f=this.verticalScrollBarMax);s=function(n,t){t>5?(n.vScrollBar.jqxScrollBar({max:t}),n.vScrollBar.css("visibility","inherit")):(n.vScrollBar.jqxScrollBar("setPosition",0),n.vScrollBar.css("visibility","hidden"))};h=function(t,r){r>0?n.jqx.browser.msie&&n.jqx.browser.version<8?r-10<=i?(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0)):(t.hScrollBar.jqxScrollBar({max:r+4}),t.hScrollBar.css("visibility","inherit")):(t.hScrollBar.jqxScrollBar({max:r+4}),t.hScrollBar.css("visibility","inherit")):(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":this.host.width(u);this.host.height(o);this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");return;case"horizontalWrap":case"horizontalwrap":this.host.width(u);this.hScrollBar.css("visibility","hidden");s(this,f);this._arrangeScrollbars(i,u,e);return;case"verticalWrap":case"verticalwrap":this.host.height(o);this.vScrollBar.css("visibility","hidden");h(this,r);this._arrangeScrollbars(i,l,e);return}s(this,f);c=2;this.vScrollBar.css("visibility")!="hidden"&&this.horizontalScrollBarMax==undefined&&(!this.isTouchDevice()&&r>0||r>0)&&(r+=i+c);h(this,r);this.hScrollBar.css("visibility")!="hidden"&&this.vScrollBar.jqxScrollBar({max:f+i+c});this._arrangeScrollbars(i,l,e)},_arrangeScrollbars:function(t,i,r){var s=this.vScrollBar[0].style.visibility!="hidden",h=this.hScrollBar[0].style.visibility!="hidden",u=2,f=2,o,e;this.hScrollBar.height(t);this.hScrollBar.css({top:r-t-u-f+"px",left:"0px"});this.hScrollBar.width(i-u+"px");this.vScrollBar.width(t);this.vScrollBar.height(parseInt(r)-u+"px");this.vScrollBar.css({left:parseInt(i)-parseInt(t)-u-f+"px",top:"0px"});this.rtl?(this.vScrollBar.css({left:"0px"}),o=s?parseInt(t)+"px":0,this.content.children().css("direction")!="rtl"&&(e=!1,n.jqx.browser.msie&&n.jqx.browser.version<8&&(e=!0),e||this.content.css("padding-left",o))):this.vScrollBar.css("visibility")!="hidden"&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());this.vScrollBar.css("visibility")!="hidden"&&this.hScrollBar.css("visibility")!="hidden"?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(t)+3),this.bottomRight.height(parseInt(t)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:t+f+"px"})),this.hScrollBar.width(i-1*t-u-f+"px"),this.vScrollBar.height(parseInt(r)-u-t-f+"px")):this.bottomRight.css("visibility","hidden");this.hScrollInstance.refresh();this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId);this.autoUpdateId=null;this.autoUpdate=!1;n.jqx.utilities.resize(this.host,null,!0);this._removeHandlers();this.removeHandler(n(window),"unload");this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.host.remove()},_raiseevent:function(t,i,r){var f,u;if(this.isInitialized!=undefined&&this.isInitialized==!0)return f=this.events[t],u=new n.Event(f),u.previousValue=i,u.currentValue=r,u.owner=this,this.host.trigger(u)},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1;this.vScrollInstance.value=0;this.hScrollInstance.value=0;this._arrange();this._render()},propertyChangedHandler:function(n,t,i,r){n.isInitialized&&(t=="rtl"&&(this.vScrollBar.jqxScrollBar({rtl:r}),this.hScrollBar.jqxScrollBar({rtl:r}),n._arrange()),n.updating||(t=="scrollBarSize"||t=="width"||t=="height")&&i!=r&&n._arrange(),t=="touchMode"&&r!="auto"&&n._updateTouchScrolling(),t=="theme"&&(n.host.removeClass(),n.host.addClass(this.toThemeProperty("jqx-panel")),n.host.addClass(this.toThemeProperty("jqx-widget")),n.host.addClass(this.toThemeProperty("jqx-widget-content")),n.host.addClass(this.toThemeProperty("jqx-rc-all")),n.vScrollBar.jqxScrollBar({theme:this.theme}),n.hScrollBar.jqxScrollBar({theme:this.theme}),n.bottomRight.removeClass(),n.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),n.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),n.content.removeClass(),n.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){n.jqx.isHidden(this.host)||this.refresh()},refresh:function(){this._arrange()}})})(jqxBaseFramework);