(function(n){n.jqx.jqxWidget("jqxExpander","",{});n.extend(n.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return n.extend(!0,this,t),t},createInstance:function(){this._isTouchDevice=n.jqx.mobile.isTouchDevice();n.jqx.aria(this);this._cachedHTMLStructure=this.host.html();this.render()},expand:function(){if(this.disabled==!1&&this.expanded==!1&&this._expandChecker==1){var t=this;this._expandChecker=0;this._raiseEvent("0");this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal"));this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"));this.headerPosition=="top"?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))):this.headerPosition=="bottom"&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top")));switch(this.animationType){case"slide":this.headerPosition=="top"?this._content.slideDown(this.expandAnimationDuration,this.easing,function(){t.expanded=!0;n.jqx.aria(t._header,"aria-expanded",!0);n.jqx.aria(t._content,"aria-hidden",!1);t._raiseEvent("1");t.initContent&&t._initialized==!1&&(t.initContent(),t._initialized=!0)}):this.headerPosition=="bottom"&&(this._content.css({display:"inherit",height:0}),n.jqx.browser.msie&&n.jqx.browser.version<8&&this._content.css("display","block"),this._cntntEmpty==!0?this._content.animate({height:0},this.expandAnimationDuration,this.easing,function(){t.expanded=!0;n.jqx.aria(t._header,"aria-expanded",!0);n.jqx.aria(t._content,"aria-hidden",!1);t._raiseEvent("1");t.initContent&&t._initialized==!1&&(t.initContent(),t._initialized=!0)}):this._content.animate({height:this._contentHeight},this.expandAnimationDuration,this.easing,function(){t.expanded=!0;n.jqx.aria(t._header,"aria-expanded",!0);n.jqx.aria(t._content,"aria-hidden",!1);t._raiseEvent("1");t.initContent&&t._initialized==!1&&(t.initContent(),t._initialized=!0)}));break;case"fade":this._content.fadeIn(this.expandAnimationDuration,this.easing,function(){t.expanded=!0;n.jqx.aria(t._header,"aria-expanded",!0);n.jqx.aria(t._content,"aria-hidden",!1);t._raiseEvent("1");t.initContent&&t._initialized==!1&&(t.initContent(),t._initialized=!0)});break;case"none":this._content.css("display","inherit");this.expanded=!0;n.jqx.aria(t._header,"aria-expanded",!0);n.jqx.aria(t._content,"aria-hidden",!1);this._raiseEvent("1");this.initContent&&this._initialized==!1&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(this.disabled==!1&&this.expanded==!0&&this._expandChecker==0){var t=this;this._expandChecker=1;this._raiseEvent("2");this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));this._header.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.headerPosition=="top"?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))):this.headerPosition=="bottom"&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover")));switch(this.animationType){case"slide":this.headerPosition=="top"?this._content.slideUp(this.collapseAnimationDuration,this.easing,function(){t.expanded=!1;n.jqx.aria(t._header,"aria-expanded",!1);n.jqx.aria(t._content,"aria-hidden",!0);t._raiseEvent("3")}):this.headerPosition=="bottom"&&this._content.animate({height:0},this.expandAnimationDuration,function(){t._content.css("display","none");t.expanded=!1;n.jqx.aria(t._header,"aria-expanded",!1);n.jqx.aria(t._content,"aria-hidden",!0);t._raiseEvent("3")});break;case"fade":this._content.fadeOut(this.collapseAnimationDuration,this.easing,function(){t.expanded=!1;n.jqx.aria(t._header,"aria-expanded",!1);n.jqx.aria(t._content,"aria-hidden",!0);t._raiseEvent("3")});break;case"none":this._content.css("display","none");this.expanded=!1;n.jqx.aria(t._header,"aria-expanded",!1);n.jqx.aria(t._content,"aria-hidden",!0);this._raiseEvent("3")}}},setHeaderContent:function(n){this._header_text.html(n);this.invalidate()},getHeaderContent:function(){return this._header_text.html()},setContent:function(n){this._content.html(n);this._checkContent();this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1;this.refresh();n.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0;this.refresh();n.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){n.jqx.isHidden(this.host)||this._setSize()},refresh:function(n){n!=!0&&(this._removeHandlers(),this.showArrow==!0?this._arrow.css("display","inherit"):this._arrow.css("display","none"),this._setTheme(),this._setSize(),this.disabled==!1&&this._toggle(),this._keyBoard())},render:function(){var t,i,r;this.widgetID=this.element.id;this._header&&(this._header.removeClass(this.toThemeProperty("jqx-expander-header-content")),this._header.removeClass(this.toThemeProperty("jqx-expander-header")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-content")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header")),this._header_text.removeClass(this.toThemeProperty("jqx-widget-header")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.attr("tabindex",null),this._content.attr("tabindex",null),this._header.css("margin-top",0),this._header[0].innerHTML=this._header_text[0].innerHTML,this.headerPosition=="bottom"&&(this._header.detach(),this.host.prepend(this._header)));this._header_temp=this.host.children("div:eq(0)");this._header_temp.wrap("<div><\/div>");this._header=this.host.children("div:eq(0)");this._content=this.host.children("div:eq(1)");this.headerPosition=="bottom"&&(this._header.detach(),this.host.append(this._header));this._header_text=this._header.children("div:eq(0)");t=this._header_text[0].className;this._header.addClass(t);this._header_text.removeClass();this.rtl?this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content-rtl")):this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content"));this._header.append("<div><\/div>");this._arrow=this._header.children("div:eq(1)");this.showArrow==!0?this._arrow.css("display","inherit"):this._arrow.css("display","none");this.tI=-1;this._header.attr("tabindex")==undefined&&(this.tI++,this._header.attr("tabindex",this.tI));this._content.attr("tabindex")==undefined&&(this.tI++,this._content.attr("tabindex",this.tI));this._setTheme();this._checkContent();i="Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content.";try{if(this._header.length==0||this._content.length==0||this.host.children().length<2||this.host.children().length>2)throw i;}catch(u){alert(u)}this._expandChecker;this._initialized;this.expanded==!0?(this.headerPosition=="top"?(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))):this.headerPosition=="bottom"&&(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))),this.initContent&&(this._setSize(),this.initContent()),this._initialized=!0,this._expandChecker=0):this.expanded==!1&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.headerPosition=="top"?(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))):this.headerPosition=="bottom"&&(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"))),this._initialized=!1,this._expandChecker=1,this._content.css("display","none"));this._setSize();this.disabled==!1&&this._toggle();this._keyBoard();r=this;n.jqx.utilities.resize(this.host,function(){r.invalidate()})},destroy:function(){this.removeHandler(n(window),"resize.expander"+this.widgetID);this.host.remove();n(this.element).removeData("jqxExpander")},focus:function(){try{this.disabled==!1&&this._header.focus()}catch(n){}},propertyChangedHandler:function(n,t,i,r){t=="expanded"?r==!0&&i==!1?(this.expanded=!1,this.expand()):r==!1&&i==!0&&(this.expanded=!0,this.collapse()):this.refresh()},_raiseEvent:function(t,i){var f=this.events[t],r=new n.Event(f),u;r.owner=this;r.args=i;try{u=this.host.trigger(r)}catch(e){}return u},resize:function(n,t){this.width=n;this.height=t;this._setSize()},_setSize:function(){var n,t;if(this.host.width(this.width),this.host.height(this.height),this._header.height("auto"),this._header.css("min-height",this._arrow.height()),n=this.arrowPosition,this.rtl)switch(n){case"left":n="right";break;case"right":n="left"}n=="right"?(this._header_text.css({float:"left","margin-left":"0px"}),this._arrow.css({float:"right",position:"relative"})):n=="left"&&(this.width=="auto"?(this._header_text.css({float:"left","margin-left":"17px"}),this._arrow.css({float:"left",position:"absolute"})):(this._header_text.css({float:"right","margin-left":"0px"}),this._arrow.css({float:"left",position:"relative"})));this._arrow.css("margin-top",this._header_text.height()/2-this._arrow.height()/2);this.height=="auto"?(this._content.height("auto"),this._contentHeight=this._content.height()):(this._content.height("auto"),t=Math.round(this.host.height())-Math.round(this._header.outerHeight())-1,t<0&&(t=0),this._contentHeight||(this._contentHeight=this._content.height()),t!=this._contentHeight?(this._content.height(t),this._contentHeight=Math.round(this._content.outerHeight())):this._content.height(this._contentHeight))},_toggle:function(){var t=this;if(this._isTouchDevice==!1){this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled"));switch(this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}}else if(this.toggleMode!="none")this.addHandler(this._header,n.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()});else return},_animate:function(){this.expanded==!0?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover")),this._header.addClass(this.toThemeProperty("jqx-expander-header-hover")),this.headerPosition=="top"?(this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):this.headerPosition=="bottom"&&(this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-up-hover")))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-hover")),this.headerPosition=="top"?(this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):this.headerPosition=="bottom"&&(this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-up-hover"))))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID);this.removeHandler(this._header,"dblclick.expander"+this.widgetID);this.removeHandler(this._header,"mouseenter.expander"+this.widgetID);this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var n=this;this.host.addClass(this.toThemeProperty("jqx-widget"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));this.rtl==!0&&this.host.addClass(this.toThemeProperty("jqx-rtl"));this.disabled==!1?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.expanded==!0?(this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"))):(this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,n._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){n._hovered=!0;n._expandChecker==1&&(n._header.removeClass(n.toThemeProperty("jqx-fill-state-normal")),n._header.removeClass(n.toThemeProperty("jqx-fill-state-pressed")),n._header.addClass(n.toThemeProperty("jqx-fill-state-hover")),n._header.addClass(n.toThemeProperty("jqx-expander-header-hover")),n.headerPosition=="top"?(n.expanded?n._arrow.addClass(n.toThemeProperty("jqx-icon-arrow-up-hover")):n._arrow.addClass(n.toThemeProperty("jqx-icon-arrow-down-hover")),n._arrow.addClass(n.toThemeProperty("jqx-expander-arrow-top-hover")),n._arrow.addClass(n.toThemeProperty("jqx-expander-arrow-down-hover"))):n.headerPosition=="bottom"&&(n.expanded&&n._arrow.addClass(n.toThemeProperty("jqx-icon-arrow-down-hover")),n._arrow.addClass(n.toThemeProperty("jqx-expander-arrow-bottom-hover")),n._arrow.addClass(n.toThemeProperty("jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){n._hovered=!1;n._header.removeClass(n.toThemeProperty("jqx-fill-state-hover"));n._arrow.removeClass(n.toThemeProperty("jqx-icon-arrow-up-hover"));n._arrow.removeClass(n.toThemeProperty("jqx-icon-arrow-down-hover"));n._header.removeClass(n.toThemeProperty("jqx-expander-header-hover"));n.headerPosition=="top"?(n._arrow.removeClass(n.toThemeProperty("jqx-expander-arrow-top-hover")),n._arrow.removeClass(n.toThemeProperty("jqx-expander-arrow-down-hover"))):n.headerPosition=="bottom"&&(n._arrow.removeClass(n.toThemeProperty("jqx-expander-arrow-bottom-hover")),n._arrow.removeClass(n.toThemeProperty("jqx-expander-arrow-up-hover")));n._expandChecker==1?n._header.addClass(n.toThemeProperty("jqx-fill-state-normal")):n._header.addClass(n.toThemeProperty("jqx-fill-state-pressed"))}))):(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled")));this.host.addClass(this.toThemeProperty("jqx-expander"));this._header.addClass(this.toThemeProperty("jqx-expander-header"));this._content.addClass(this.toThemeProperty("jqx-expander-content"));this.headerPosition=="top"?this._content.addClass(this.toThemeProperty("jqx-expander-content-bottom")):this.headerPosition=="bottom"&&this._content.addClass(this.toThemeProperty("jqx-expander-content-top"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._content.html());this._cntntEmpty==!0?(this._content.height(0),this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):(this._content.height(this._contentHeight),this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var n=this;this._focus();this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1;if((n.focusedH==!0||n.focusedC==!0)&&n.disabled==!1){switch(t.keyCode){case 13:case 32:n.toggleMode!="none"&&(n.focusedH==!0&&n._animate(),i=!0);break;case 38:t.ctrlKey==!0&&n.focusedC==!0&&n._header.focus();i=!0;break;case 40:t.ctrlKey==!0&&n.focusedH==!0&&n._content.focus();i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0;n.jqx.aria(t._header,"aria-selected",!0);t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1;n.jqx.aria(t._header,"aria-selected",!1);t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._header_text,"focus.expander"+this.widgetID,function(){t._header.focus()});this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._header.focus()});this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0;t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1;t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})}})})(jqxBaseFramework);