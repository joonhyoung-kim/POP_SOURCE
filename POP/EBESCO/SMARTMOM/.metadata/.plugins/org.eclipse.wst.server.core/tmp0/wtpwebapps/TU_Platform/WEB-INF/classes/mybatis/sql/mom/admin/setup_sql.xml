<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.thirautech.mom.admin.setup">
	<!-- modify hists
	20191107001 / pyj / 화면에서 configSetId 항목 삭제 -->
	<select id="get_setup_list" resultType="camelMap" parameterType="java.util.HashMap">
		SELECT STANDARD_TIME
			 , CURRENCY_CD
			 , DEMAND_HORIZON
			 , DEMAND_HORIZON_UOM
			 , PLAN_HORIZON
			 , PLAN_HORIZON_UOM
			 , BASIS_START_TIME
<!-- 			 , CONFIG_SET_ID --> <!-- 20191107001 -->
			 , MO_PRICE_BLOCKING_FLAG
			 , DEMAND_CREATE_TYPE
			 , B2BI_PRODUCT_FLAG
			 , SYNC_PLAN_USE_FLAG
			 , SPECIFICATION_TYPE
			 , MARKET_CD
			 , AUTO_CANCEL_WO_USE_FLAG
			 , DEFECT_QTY_USE_FLAG
			 , WO_RESULT_OVER_FLAG
			 , SHIPPING_OVER_FLAG
			 , MATERIAL_LOT_USE_FLAG
		  	 , PRODUCT_LOT_USE_FLAG
		 	 , SHIPPING_LOT_USE_FLAG
			 , REPORT_EXCEL_PATH
			 , REPORT_APPLICATION_URL
			 , B2BI_VENDOR_CD
			 , B2BI_PP_USE_FLAG
			 , B2BI_PO_USE_FLAG
			 , B2BI_DEPARTURE_USE_FLAG
			 , B2BI_RECEIVING_USE_FLAG
			 , DEMAND_PO_UPLOAD_TYPE
		 	 , DEMAND_UPLOAD_TYPE
		 	 , ITEM_PO_UPLOAD_TYPE
		  	 , ALLOW_MINUS_QTY
		  	 , AUTO_DEDUCTION_FLAG
		  	 , OUTSOURCING_USE_FLAG
		  	 , AUTO_VENDOR_LOCATION_FLAG
		  	 , PG_ORDER_USE_FLAG
		  	 , PP_QTY_TYPE
		  	 , SIMPLE_WIDGET_FLAG
		  	 , PAST_SO_CREATE_FLAG
		  	 , MERGE_USE_FLAG
		FROM   MOM_PARAMETER
		WHERE  DIVISION_CD = #{divisionCd, jdbcType=VARCHAR}
		AND    COMPANY_CD = #{companyCd, jdbcType=VARCHAR}
	</select>
	
	<update id="modify_setup" parameterType="java.util.HashMap">
		UPDATE MOM_PARAMETER
		SET STANDARD_TIME = #{localTime, jdbcType=INTEGER}
		  , CURRENCY_CD = #{currency, jdbcType=VARCHAR}
		  , DEMAND_HORIZON = #{demandHorizon, jdbcType=INTEGER}
		  , DEMAND_HORIZON_UOM = #{demandHorizonUom, jdbcType=VARCHAR}
		  , PLAN_HORIZON = #{planHorizon, jdbcType=INTEGER}
		  , PLAN_HORIZON_UOM = #{planHorizonUom, jdbcType=VARCHAR}
		  , BASIS_START_TIME = #{basisStartTime, jdbcType=VARCHAR}
<!-- 		  , CONFIG_SET_ID = #{configSetId, jdbcType=VARCHAR} -->  <!-- 20191107001 -->
		  , MO_PRICE_BLOCKING_FLAG = #{moPriceBlockingFlag, jdbcType=VARCHAR}
		  , DEMAND_CREATE_TYPE = #{demandCreateType, jdbcType=VARCHAR}
		  , SYNC_PLAN_USE_FLAG = #{syncPlanUseFlag, jdbcType=VARCHAR}
		  , SPECIFICATION_TYPE = #{specificationType, jdbcType=VARCHAR}
		  , MARKET_CD = #{market, jdbcType=VARCHAR}
		  , AUTO_CANCEL_WO_USE_FLAG = #{autoCancelWoUseFlag, jdbcType=VARCHAR}
		  , DEFECT_QTY_USE_FLAG = #{defectQtyUseFlag, jdbcType=VARCHAR}
		  , WO_RESULT_OVER_FLAG = #{woResultOverFlag, jdbcType=VARCHAR}
		  , SHIPPING_OVER_FLAG = #{shippingOverFlag, jdbcType=VARCHAR}
		  , MATERIAL_LOT_USE_FLAG = #{materialLotUseFlag, jdbcType=VARCHAR}
		  , PRODUCT_LOT_USE_FLAG = #{productLotUseFlag, jdbcType=VARCHAR}
		  , SHIPPING_LOT_USE_FLAG = #{shippingLotUseFlag, jdbcType=VARCHAR}
		  , REPORT_EXCEL_PATH = #{reportExcelPath, jdbcType=VARCHAR}
		  , REPORT_APPLICATION_URL = #{reportApplicationUrl, jdbcType=VARCHAR}
		  , B2BI_VENDOR_CD = #{b2biVendorCd, jdbcType=VARCHAR}
		  , B2BI_PRODUCT_FLAG = #{b2biPpUseFlag, jdbcType=VARCHAR}
		  , B2BI_PO_USE_FLAG = #{b2biPoUseFlag, jdbcType=VARCHAR}
		  , B2BI_DEPARTURE_USE_FLAG = #{b2biDepartureUseFlag, jdbcType=VARCHAR}
		  , B2BI_RECEIVING_USE_FLAG = #{b2biReceivingUseFlag, jdbcType=VARCHAR}
		  , DEMAND_PO_UPLOAD_TYPE = #{demandPoUploadType, jdbcType=VARCHAR}
		  , DEMAND_UPLOAD_TYPE  = #{demandUploadType, jdbcType=VARCHAR}
		  , ITEM_PO_UPLOAD_TYPE   = #{itemPoUploadType, jdbcType=VARCHAR}
		  , ALLOW_MINUS_QTY = #{allowMinusQty, jdbcType=VARCHAR}
		  , AUTO_DEDUCTION_FLAG = #{autoDeductionFlag, jdbcType=VARCHAR}
		  , OUTSOURCING_USE_FLAG = #{outsourcingUseFlag, jdbcType=VARCHAR}
		  , AUTO_VENDOR_LOCATION_FLAG = #{autoVendorLocationFlag, jdbcType=VARCHAR}
		  , PG_ORDER_USE_FLAG = #{pgOrderUseFlag, jdbcType=VARCHAR}
		  , PP_QTY_TYPE = #{ppQtyType, jdbcType=VARCHAR}
		  , SIMPLE_WIDGET_FLAG = #{simpleWidgetFlag, jdbcType=VARCHAR}
		  , PAST_SO_CREATE_FLAG = #{pastSoCreateFlag, jdbcType=VARCHAR}
		  , MERGE_USE_FLAG = #{mergeUseFlag, jdbcType=VARCHAR}
		  , UPDATE_DATE = TO_DATE(#{updateDate, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')
		  , UPDATE_BY = #{updateBy, jdbcType=VARCHAR}
		WHERE DIVISION_CD = #{divisionCd, jdbcType=VARCHAR}
		AND   COMPANY_CD = #{companyCd, jdbcType=VARCHAR}
	</update>
	
</mapper>