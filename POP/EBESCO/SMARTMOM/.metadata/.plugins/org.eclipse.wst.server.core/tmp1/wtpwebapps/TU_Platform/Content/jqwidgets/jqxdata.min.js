(function(n){function v(t){return function(i,r){typeof i!="string"&&(r=i,i="*");var u,o,f,s=i.toLowerCase().split(c),e=0,h=s.length;if(n.isFunction(r))for(;e<h;e++)u=s[e],f=/^\+/.test(u),f&&(u=u.substr(1)||"*"),o=t[u]=t[u]||[],o[f?"unshift":"push"](r)}}function u(n,t,i,r,f,e){f=f||t.dataTypes[0];e=e||{};e[f]=!0;for(var s,h=n[f],c=0,a=h?h.length:0,l=n===o;c<a&&(l||!s);c++)s=h[c](t,i,r),typeof s=="string"&&(!l||e[s]?s=undefined:(t.dataTypes.unshift(s),s=u(n,t,i,r,s,e)));return!l&&s||e["*"]||(s=u(n,t,i,r,"*",e)),s}function y(t,i){var r,u,f=n.jqx.data.ajaxSettings.flatOptions||{};for(r in i)i[r]!==undefined&&((f[r]?t:u||(u={}))[r]=i[r]);u&&n.extend(!0,t,u)}function it(n,t,i){var e,r,f,o,s=n.contents,u=n.dataTypes,h=n.responseFields;for(r in h)r in i&&(t[h[r]]=i[r]);while(u[0]==="*")u.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("content-type"));if(e)for(r in s)if(s[r]&&s[r].test(e)){u.unshift(r);break}if(u[0]in i)f=u[0];else{for(r in i){if(!u[0]||n.converters[r+" "+u[0]]){f=r;break}o||(o=r)}f=f||o}if(f)return f!==u[0]&&u.unshift(f),i[f]}function rt(n,t){var i,o,r,e,s=n.dataTypes.slice(),f=s[0],u={},h=0;if(n.dataFilter&&(t=n.dataFilter(t,n.dataType)),s[1])for(i in n.converters)u[i.toLowerCase()]=n.converters[i];for(;r=s[++h];)if(r!=="*"){if(f!=="*"&&f!==r){if(i=u[f+" "+r]||u["* "+r],!i)for(o in u)if(e=o.split(" "),e[1]===r&&(i=u[f+" "+e[0]]||u["* "+e[0]],i)){i===!0?i=u[o]:u[o]!==!0&&(r=e[0],s.splice(h--,0,r));break}if(i!==!0)if(i&&n.throws)t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function b(){try{return new window.XMLHttpRequest}catch(n){}}function et(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}var r,e,w;n.jqx.observableArray=function(t,i){var e,r,f,u,i;return typeof t=="string"&&(t=n.parseJSON(t)),Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(n){return!1}}()||(e=Object.defineProperty,Object.defineProperty=function(n,t,i){if(e)try{return e(n,t,i)}catch(r){}if(n!==Object(n))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(n,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(n,t,i.set),"value"in i?n[t]=i.value:n[t]||(n[t]=i),n}),Array.prototype.forEach||(Array.prototype.forEach=function(n){var i,r,u,t;if(this===void 0||this===null)throw TypeError();if(i=Object(this),r=i.length>>>0,typeof n!="function")throw TypeError();for(u=arguments[1],t=0;t<r;t++)t in i&&n.call(u,i[t],t,i)}),typeof Object.getOwnPropertyNames!="function"&&(Object.getOwnPropertyNames=function(n){if(n!==Object(n))throw TypeError("Object.getOwnPropertyNames called on non-object");var t=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(i);return t}),r=this,u=[],r.notifier=null,r.name="observableArray",r.observing=!0,r.changes=[],i=i,r.observe=function(){r.observing=!0;arguments.length==1&&(i=arguments[0])},r.unobserve=function(){r.observing=!1},r.toArray=function(){return u.slice(0)},r.toJSON=function(n,t){function s(n){return'"'+n.replace(e,function(n){var t=o[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"'}function i(n){return n<10?"0"+n:n}function h(n){return isFinite(n.valueOf())?n.getUTCFullYear()+"-"+i(n.getUTCMonth()+1)+"-"+i(n.getUTCDate())+"T"+i(n.getUTCHours())+":"+i(n.getUTCMinutes())+":"+i(n.getUTCSeconds())+'Z"':"null"}function c(n){for(var r=n.length,i=[],t=0;t<r;t++)i.push(f(t,n)||"null");return"["+i.join(",")+"]"}function l(t){var u=[],i,r;for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(i!=""&&n&&n.indexOf(i)===-1)continue;r=f(i,t);r&&u.push(s(i)+":"+r)}return"{"+u.join(",")+"}"}function a(n){switch(Object.prototype.toString.call(n)){case"[object Date]":return h(n);case"[object Array]":return c(n)}return l(n)}function v(n,t){switch(t){case"string":return s(n);case"number":case"float":case"integer":case"int":return isFinite(n)?n:"null";case"boolean":return n}return"null"}function f(n,t){var i=t[n],r=typeof i;return i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(n),r=typeof i),/(number|float|int|integer|string|boolean)/.test(r)||!i&&r==="object"?v(i,r):a(i)}var r=u,e,o;return(t&&(r=t),e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},!n&&window.JSON&&typeof window.JSON.stringify=="function")?window.JSON.stringify(r):f("",{"":r})},r.defineIndexProperty=function(t){if(!(t in r)){var e=function(t,i,e,o){var s=t[i],h=s,c=function(){return h},l=function(t){var e;if(s=t,h!==s&&(e=h,h=s,typeof f=="function")){var c=u.indexOf(o),l="",a=function(t,r){Object.getOwnPropertyNames(t).forEach(function(u){var f=n.type(t[u]);f=="array"||f=="object"?a(t[u],r+"."+u):i===u&&(l=r+"."+u)})};a(o,c);f({object:r,type:"update",path:l,index:c,name:i,newValue:s,oldValue:e})}return h=s,s};t[i]&&i!="length"&&(Object.defineProperty?Object.defineProperty(t,i,{get:c,set:l}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,c),Object.prototype.__defineSetter__.call(t,i,l)))},i=function(t,r,u){var f=n.type(t);/(number|float|int|integer|string|boolean)/.test(f)||t!==undefined&&Object.getOwnPropertyNames(t).forEach(function(f){var o=n.type(t[f]);o=="array"||o=="object"?(e(t,f,r+"."+f,u),i(t[f],r+"."+f,u)):e(t,f,r+"."+f,u)})};Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return u[t]},set:function(n){var e=u[t];r.toJSON(null,e)!=r.toJSON(null,n)&&(u[t]=n,typeof f=="function"&&f({object:r,type:"update",path:t.toString(),index:t,name:"index",newValue:n,oldValue:e}),i(n,t,n))}});i(r[t],t,r[t])}},r.push=function(){for(var n,t=0,i=arguments.length;t<i;t++)n=u.length,u.push(arguments[t]),r.defineIndexProperty(n),typeof f=="function"&&f({object:r,type:"add",name:"length",index:n,newValue:u.length,oldValue:n});return u.length},r.pop=function(){if(~u.length){var n=u.length-1,t=u.pop();return delete r[n],typeof f=="function"&&f({object:r,type:"delete",name:"length",index:n,newValue:u.length,oldValue:n}),t}},r.unshift=function(){for(var t=u.length,n=0,i=arguments.length;n<i;n++)u.splice(n,0,arguments[n]),r.defineIndexProperty(u.length-1);return typeof f=="function"&&f({object:r,type:"add",index:0,name:"length",newValue:u.length,oldValue:t}),u.length},r.shift=function(){var n=u.length,t;if(~u.length)return t=u.shift(),u.length===0&&delete r[n],typeof f=="function"&&f({object:r,type:"delete",index:n,name:"length",newValue:u.length,oldValue:n}),t},r.slice=function(t,i,r){var f=u.slice(t,i);return new n.jqx.observableArray(f,r)},r.splice=function(t,i,e){var s=[],h,o,c;for(t=~t?t:u.length-t,i=(i==null?u.length-t:i)||0;i--;)h=u.splice(t,1)[0],s.push(h),delete r[u.length],typeof f=="function"&&f({object:r,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(o=2,c=arguments.length;o<c;o++)u.splice(t,0,arguments[o]),defineIndexProperty(u.length-1),typeof f=="function"&&f({object:r,type:"add",index:t,name:"length",newValue:u.length-1,oldValue:t}),t++;return new n.jqx.observableArray(s,e)},Object.defineProperty(r,"length",{configurable:!1,enumerable:!0,get:function(){return u.length},set:function(n){var t=Number(n);if(t%1==0&&t>=0)t<u.length?r.splice(t):t>u.length&&r.push.apply(r,new Array(t-u.length));else throw new RangeError("Invalid array length");return n}}),n.jqx.observableArray.prototype.fromArray=function(t,i){return new n.jqx.observableArray(t,i)},n.jqx.observableArray.prototype.clone=function(){var t=new n.jqx.observableArray(u,i);return t.observing=r.observing,t.changes=r.changes,t.notifier=r.notifier,t},r.remove=function(n){if(n<0||n>=r.length)throw new Error("Invalid index : "+n);if(r.hasOwnProperty(n)){var t=r[n];return r[n]=undefined,u[n]=undefined,typeof f=="function"&&f({object:r,type:"delete",index:n,name:"index",newValue:undefined,oldValue:t}),!0}return!1},r.concat=function(t,i){var r=u.concat(t);return new n.jqx.observableArray(r,i)},Object.getOwnPropertyNames(Array.prototype).forEach(function(n){if(!(n in r)){var t=function(){var f=r.observing,t,i;return r.observing=!1,t=u[n],i=t.apply(u,arguments),r.observing=f,i};Object.defineProperty(r,n,{configurable:!1,enumerable:!0,writeable:!1,value:t})}}),r.set=function(t,i){var f,e,u;if(n.type(t)=="string"&&t.split(".").length>1){for(f=t.split("."),e=r,u=0;u<f.length;u++){if(u===0&&f[u]>=r.length)throw new Error("Invalid Index: "+t);u<f.length-1?e=e[f[u]]:e[f[u]]=i}return!0}return t>=r.length?r.push(i):r[t]=i,!0},r.get=function(n){return r[n]},t instanceof Array&&r.push.apply(r,t),f=function(){r.observing&&(arguments&&arguments[0]&&r.changes.push(arguments[0]),i&&i.apply(r,arguments),r.notifier&&r.notifier.apply(r,arguments))},r};n.jqx.formatDate=function(t,i,r){return n.jqx.dataFormat.formatdate(t,i,r)};n.jqx.formatNumber=function(t,i,r){return n.jqx.dataFormat.formatnumber(t,i,r)};n.jqx.dataAdapter=function(t,i){var u,r;t!=undefined&&(t.dataFields!==undefined&&(t.datafields=t.dataFields),t.dataType!==undefined&&(t.datatype=t.dataType),t.localData!==undefined&&(t.localdata=t.localData),t.sortColumn!==undefined&&(t.sortcolumn=t.sortColumn),t.sortDirection!==undefined&&(t.sortdirection=t.sortDirection),t.sortOrder!==undefined&&(t.sortdirection=t.sortOrder),t.formatData!==undefined&&(t.formatdata=t.formatData),t.processData!==undefined&&(t.processdata=t.processData),t.pageSize!==undefined&&(t.pagesize=t.pageSize),t.pageNum!==undefined&&(t.pagenum=t.pageNum),t.updateRow!==undefined&&(t.updaterow=t.updateRow),t.addRow!==undefined&&(t.addrow=t.addRow),t.deleteRow!==undefined&&(t.deleterow=t.deleteRow),t.contentType!==undefined&&(t.contenttype=t.contentType),t.totalRecords!=undefined&&(t.totalrecords=t.totalRecords),t.loadError!=undefined&&(t.loadError=t.loadError),t.sortComparer!=undefined&&(t.sortcomparer=t.sortComparer));this._source=t;this._options=i||{};t.beforeLoadComplete!=undefined&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete);t.downloadComplete!=undefined&&(this._options.downloadComplete=this._source.downloadComplete);t.loadComplete!=undefined&&(this._options.loadComplete=this._source.loadComplete);t.autoBind!=undefined&&(this._options.downloadComplete=this._source.autoBind);t.formatData!=undefined&&(this._options.formatData=this._source.formatData);t.loadError!=undefined&&(this._options.loadError=this._source.loadError);t.beforeSend!=undefined&&(this._options.beforeSend=this._source.beforeSend);t.contentType!=undefined&&(this._options.contentType=this._source.contentType);t.async!=undefined&&(this._options.async=this._source.async);t.loadServerData!=undefined&&(this._options.loadServerData=this._source.loadServerData);t.uniqueDataFields!=undefined&&(this._options.uniqueDataFields=this._source.uniqueDataFields);this.records=[];this._downloadComplete=[];this._bindingUpdate=[];t!=undefined&&t.localdata!=null&&typeof t.localdata=="function"&&(u=t.localdata(),u!=null&&(t._localdata=t.localdata,r=this,t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return n.isArray(t)?n.makeArray(i(n(t))):n.extend(!0,{},t)};(r.suspendKO==!1||r.suspendKO==undefined||r._oldlocaldata.length==0)&&(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(n){if(r.suspendKO==!1||r.suspendKO==undefined){var i="";r._oldrecords=r.records;r._oldlocaldata.length==0&&(t.localdata=t._localdata());r._oldlocaldata.length==0?i="change":n&&(r._oldlocaldata.length==n.length&&(i="update"),r._oldlocaldata.length>n.length&&(i="remove"),r._oldlocaldata.length<n.length&&(i="add"));r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=u));this._options.autoBind==!0&&this.dataBind()};n.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(n){this.isUpdating=!1;n!=!1&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,r){return n.jqx.dataFormat.formatdate(t,i,r)},formatNumber:function(t,i,r){return n.jqx.dataFormat.formatnumber(t,i,r)},dataBind:function(t,i){var r,f,w,u,s,tt,b,o,k,ot,a,it,d,h,e,g,y,c,st,p,l,v,rt,ut,nt,ft,et;if(this.isUpdating!=!0&&(r=this._source,r)){if(r.generatedfields&&(r.datafields=null,r.generatedfields=null),n.jqx.dataFormat.datescache=[],r.dataFields!=null&&(r.datafields=r.dataFields),r.recordstartindex==undefined&&(r.recordstartindex=0),r.recordendindex==undefined&&(r.recordendindex=0),r.loadallrecords==undefined&&(r.loadallrecords=!0),r.root==undefined&&(r.root=""),r.record==undefined&&(r.record=""),r.sort!=undefined&&(this.sort=r.sort),this.filter=r.filter!=undefined?r.filter:null,r.sortcolumn!=undefined&&(this.sortcolumn=r.sortcolumn),r.sortdirection!=undefined&&(this.sortdirection=r.sortdirection),r.sortcomparer!=undefined&&(this.sortcomparer=r.sortcomparer),this.records=[],f=this._options||{},this.virtualmode=f.virtualmode!=undefined?f.virtualmode:!1,this.totalrecords=f.totalrecords!=undefined?f.totalrecords:0,this.pageable=f.pageable!=undefined?f.pageable:!1,this.pagesize=f.pagesize!=undefined?f.pagesize:0,this.pagenum=f.pagenum!=undefined?f.pagenum:0,this.cachedrecords=f.cachedrecords!=undefined?f.cachedrecords:[],this.originaldata=[],this.recordids=[],this.updaterow=f.updaterow!=undefined?f.updaterow:null,this.addrow=f.addrow!=undefined?f.addrow:null,this.deleterow=f.deleterow!=undefined?f.deleterow:null,this.cache=f.cache!=undefined?f.cache:!1,this.unboundmode=!1,r.formatdata!=undefined&&(f.formatData=r.formatdata),r.data!=undefined&&(f.data==undefined&&(f.data={}),n.extend(f.data,r.data)),this.mapChar=r.mapchar!=undefined?r.mapchar?r.mapchar:">":f.mapChar?f.mapChar:">",(f.unboundmode||r.unboundmode)&&(this.unboundmode=f.unboundmode||r.unboundmode),r.cache!=undefined&&(this.cache=r.cache),this.koSubscriptions)for(w=0;w<this.koSubscriptions.length;w++)this.koSubscriptions[w].dispose();this.koSubscriptions=[];this.pagenum<0&&(this.pagenum=0);u=this;s=r.datatype;(r.datatype==="csv"||r.datatype==="tab"||r.datatype==="tsv"||r.datatype=="text")&&(s="text");tt=f.async!=undefined?f.async:!0;r.async!=undefined&&(tt=r.async);switch(s){case"local":case"array":case"observablearray":case"observableArray":default:if(r.localdata==undefined&&r.length)for(r.localdata=[],e=0;e<r.length;e++)r.localdata[r.localdata.length]=r[e],r[e].uid=e;if(r.beforeprocessing&&n.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata),h=r.localdata.length,this.totalrecords=this.virtualmode?r.totalrecords||h:h,this.unboundmode&&(this.totalrecords=this.unboundmode?r.totalrecords||h:h,o=r.datafields?r.datafields.length:0,o>0))for(e=0;e<this.totalrecords;e++){for(a={},b=0;b<o;b++)a[r.datafields[b].name]="";a.uid=e;r.localdata[r.localdata.length]=a}if(this.totalrecords==undefined&&(this.totalrecords=0),o=r.datafields?r.datafields.length:0,k=function(t,i){for(var e,f,s,o,h,a,c={},l=0;l<i;l++)if(e=r.datafields?r.datafields[l]:{},f="",undefined!=e&&e!=null){if(e.map){if(n.isFunction(e.map))f=e.map(t);else if(s=e.map.split(u.mapChar),s.length>0){for(o=t,h=0;h<s.length;h++)o&&(o=o[s[h]]);f=o}else f=t[e.map];f!=undefined&&f!=null?f=f.toString():f==undefined&&f!=null&&(f="")}a=!1;f==""&&(a=!0,f=t[e.name],f!=undefined&&f!=null&&(r._localdata&&f.subscribe?f=f():e.type!="array"&&(f=f.toString())));f=="[object Object]"&&e.map&&a&&(f="");f=u.getvaluebytype(f,e);e.displayname!=undefined?c[e.displayname]=f:c[e.name]=f}return c},r._localdata){if(this._changedrecords=[],this.records=[],ot=r._localdata(),n.each(ot,function(t,f){var l,c,a;if(typeof f=="string")u.records.push(f);else{var e={},h=0,s=this;n.each(this,function(i){var a=null,v="string",l=i,b,d,k,c,g,nt,f,y,p,w;if(o>0){for(b=!1,d=!1,k=0;k<o;k++)if(c=r.datafields[k],c!=undefined&&c.name==i){b=!0;a=c.map;v=c.type;l=c.name;break}else if(c!=undefined&&c.map&&c.map.indexOf(i)>=0){if(b=!0,a=c.map,v=c.type,l=c.name,d=!0,f=s[i],a!=null)if(y=a.split(u.mapChar),y.length>0){for(p=s,w=0;w<y.length;w++)p=p[y[w]];f=p}else f=s[a];v!="string"&&(f=u.getvaluebytype(f,{type:v}));e[l]=f;e[l]!=undefined&&(h+=e[l].toString().length+e[l].toString().substr(0,1))}if(!b||d)return!0}if(g=n.isFunction(s[i]),g)f=s[i](),v!="string"&&(f=u.getvaluebytype(f,{type:v})),e[i]=f,s[i].subscribe&&(nt=t,u.koSubscriptions[u.koSubscriptions.length]=s[i].subscribe(function(n){var r=nt,t;if(e[i]=n,t={index:r,oldrecord:e,record:e},u._changedrecords.push(t),!u.isUpdating)return u.callBindingUpdate("update"),u._changedrecords=[],!1}));else{if(f=s[i],a!=null)if(y=a.split(u.mapChar),y.length>0){for(p=s,w=0;w<y.length;w++)p=p[y[w]];f=p}else f=s[a];v!="string"&&(f=u.getvaluebytype(f,{type:v}));e[l]=f;e[l]!=undefined&&(h+=e[l].toString().length+e[l].toString().substr(0,1))}});l=u.getid(r.id,s,t);e.uid=l;u.records.push(e);e._koindex=h;u._oldrecords&&(c=u.records.length-1,i=="update"&&u._oldrecords[c]._koindex!=h&&(a={index:c,oldrecord:u._oldrecords[c],record:e},u._changedrecords.push(a)))}}),i=="add")for(h=u.records.length,e=0;e<h;e++){for(a=u.records[e],it=!1,d=0;d<u._oldrecords.length;d++)if(u._oldrecords[d]._koindex===a._koindex){it=!0;break}it||u._changedrecords.push({index:e,oldrecord:null,record:a,position:e!=0?"last":"first"})}else if(i=="remove")for(h=u._oldrecords.length,e=0;e<h;e++)g=u._oldrecords[e],u.records[e]?u.records[e]._koindex!=g._koindex&&u._changedrecords.push({index:e,oldrecord:g,record:null}):u._changedrecords.push({index:e,oldrecord:g,record:null})}else n.isArray(r.localdata)?o==0?(y=0,c=[],n.each(r.localdata,function(t,i){var e=n.extend({},this),f,s,l,h;if(typeof i=="string")return u.records=r.localdata,!1;if(f=u.getid(r.id,e,t),typeof f=="object"&&(f=t),e.uid=f,t==0){for(s in this)y++,l=n.type(this[s]),c.push({name:s,type:l});o=y;r.datafields=c;r.generatedfields=c}o>0?(h=k(e,o),h.uid=f,u.records[u.records.length]=h):u.records[u.records.length]=e})):n.each(r.localdata,function(t){var i=this,e=k(i,o),f=u.getid(r.id,e,t);typeof f=="object"&&(f=t);i=n.extend({},e);i.uid=f;u.records[u.records.length]=i}):(this.records=[],y=0,c=[],n.each(r.localdata,function(t){var e=u.getid(r.id,this,t),i,s,h,f;if(o==0&&!(typeof this=="string"||this instanceof String)){for(i in this)y++,s=n.type(this[i]),c.push({name:i,type:s});o=y;r.datafields=c;r.generatedfields=c}o>0?(h=this,f=k(h,o),f.uid=e,u.records[u.records.length]=f):(this.uid=e,u.records[u.records.length]=this)}));this.originaldata=r.localdata;this.cachedrecords=this.records;this.addForeignValues(r);f.uniqueDataFields&&(p=this.getUniqueRecords(this.records,f.uniqueDataFields),this.records=p,this.cachedrecords=p);f.beforeLoadComplete&&(l=f.beforeLoadComplete(u.records,this.originaldata),l!=undefined&&(u.records=l,u.cachedrecords=l));f.autoSort&&f.autoSortField&&(st=Object.prototype.toString,Object.prototype.toString=typeof field=="function"?field:function(){return this[f.autoSortField]},u.records.sort(function(t,i){if(t===undefined&&(t=null),i===undefined&&(i=null),t===null&&i===null)return 0;if(t===null&&i!==null)return 1;if(t!==null&&i===null)return-1;if(t=t.toString(),i=i.toString(),t===null&&i===null)return 0;if(t===null&&i!==null)return 1;if(t!==null&&i===null)return-1;if(n.jqx.dataFormat.isNumber(t)&&n.jqx.dataFormat.isNumber(i)||n.jqx.dataFormat.isDate(t)&&n.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;n.jqx.dataFormat.isNumber(t)||n.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(r){var u=r}return 0}),Object.prototype.toString=st);u.loadedData=r.localdata;u.buildHierarchy();n.isFunction(f.loadComplete)&&f.loadComplete(r.localdata,u.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(r.localdata!=null&&!r.url){n.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata);r.datatype==="xml"?u.loadxml(r.localdata,r.localdata,r):s==="text"?u.loadtext(r.localdata,r):s==="ics"?u.loadics(r.localdata,r):u.loadjson(r.localdata,r.localdata,r);u.addForeignValues(r);f.uniqueDataFields&&(p=u.getUniqueRecords(u.records,f.uniqueDataFields),u.records=p,u.cachedrecords=p);f.beforeLoadComplete&&(l=f.beforeLoadComplete(u.records,this.originaldata),l!=undefined&&(u.records=l,u.cachedrecords=l));u.loadedData=r.localdata;u.buildHierarchy.call(u);n.isFunction(f.loadComplete)&&f.loadComplete(r.localdata,u.records);u.callBindingUpdate(i);return}v=f.data!=undefined?f.data:{};r.processdata&&r.processdata(v);n.isFunction(f.processData)&&f.processData(v);n.isFunction(f.formatData)&&(rt=f.formatData(v),rt!=undefined&&(v=rt));ut="application/x-www-form-urlencoded";f.contentType&&(ut=f.contentType);nt="GET";r.type&&(nt=r.type);f.type&&(nt=f.type);ft=s;s=="ics"&&(ft="text");r.url&&r.url.length>0?n.isFunction(f.loadServerData)?u._requestData(v,r,f):this.xhr=n.jqx.data.ajax({dataType:ft,cache:this.cache,type:nt,url:r.url,async:tt,timeout:r.timeout,contentType:ut,data:v,success:function(t,i,e){var o,h,l,c;if(n.isFunction(r.beforeprocessing)&&(o=r.beforeprocessing(t,i,e),o!=undefined&&(t=o)),n.isFunction(f.downloadComplete)&&(o=f.downloadComplete(t,i,e),o!=undefined&&(t=o)),t==null){u.records=[];u.cachedrecords=[];u.originaldata=[];u.callDownloadComplete();n.isFunction(f.loadComplete)&&f.loadComplete([]);return}h=t;t.records&&(h=t.records);t.totalrecords!=undefined?r.totalrecords=t.totalrecords:t.totalRecords!=undefined&&(r.totalrecords=t.totalRecords);r.datatype==="xml"?u.loadxml(null,h,r):s==="text"?u.loadtext(h,r):s==="ics"?u.loadics(h,r):u.loadjson(null,h,r);u.addForeignValues(r);f.uniqueDataFields&&(l=u.getUniqueRecords(u.records,f.uniqueDataFields),u.records=l,u.cachedrecords=l);f.beforeLoadComplete&&(c=f.beforeLoadComplete(u.records,t),c!=undefined&&(u.records=c,u.cachedrecords=c));u.loadedData=t;u.buildHierarchy.call(u);u.callDownloadComplete();n.isFunction(f.loadComplete)&&f.loadComplete(t,i,e,u.records)},error:function(t,i,e){n.isFunction(r.loaderror)&&r.loaderror(t,i,e);n.isFunction(f.loadError)&&f.loadError(t,i,e);t=null;u.callDownloadComplete()},beforeSend:function(t,i){n.isFunction(f.beforeSend)&&f.beforeSend(t,i);n.isFunction(r.beforesend)&&r.beforesend(t,i)}}):(u.buildHierarchy([]),u.callDownloadComplete(),n.isFunction(f.loadComplete)&&(et||(et={}),f.loadComplete(et)))}this.callBindingUpdate(i)}},buildHierarchy:function(n){var i=this._source,u=[],o,t,e,r,s,l,h,c,f;if(i.datafields&&(i.hierarchy&&!i.hierarchy.reservedNames?i.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}:i.hierarchy&&(t=i.hierarchy.reservedNames,t.leaf||(t.leaf="leaf"),t.parent||(t.parent="parent"),t.expanded||(t.expanded="expanded"),t.checked||(t.checked="checked"),t.selected||(t.selected="selected"),t.level||(t.level="level"),t.data||(t.data="data")),i.hierarchy)){if(o=this,t=i.hierarchy.reservedNames,i.hierarchy.root){if(i.dataType=="xml")return u=this.getRecordsHierarchy("uid","parentuid","records",null,n),this.hierarchy=u,u;for(this.hierarchy=this.records,e=i.hierarchy.root,f=0;f<this.records.length;f++)(r=this.records[f],r)&&(s=function(n){var u,f,r,s;if(i.hierarchy.record)n.records=n[e][i.hierarchy.record];else{if(u=e.split(o.mapChar),f=null,u.length>1){for(r=n,s=0;s<u.length;s++)r!=undefined&&(r=r[u[s]]);f=r}else f=n[e];n.records=f}(n.records==null||n.records&&n.records.length==0)&&(n[t.leaf]=!0)},s(r),r[t.level]=0,l=this.getid(i.id,r,f),r.uid=l,r[t.parent]=null,r[t.data]=r,r[t.expanded]===undefined&&(r[t.expanded]=!1),h=function(n,r){var f,u,e;if(!r){n.records=[];return}for(f=0;f<r.length;f++)(u=r[f],u)&&(s(u),u[t.level]=n[t.level]+1,u[t.parent]=n,u[t.data]=u,e=o.getid(i.id,u,f),u.uid=e==f&&i.id==null?n.uid+"_"+e:e,u[t.expanded]===undefined&&(u[t.expanded]=!1),h(u,u.records))},h(r,r.records));return this.hierarchy}if(i.hierarchy.keyDataField&&i.hierarchy.parentDataField)return u=this.getRecordsHierarchy(i.hierarchy.keyDataField.name,i.hierarchy.parentDataField.name,"records",null,n),this.hierarchy=u,u;if(i.hierarchy.groupingDataFields){for(c=[],f=0;f<i.hierarchy.groupingDataFields.length;f++)c.push(i.hierarchy.groupingDataFields[f].name);return u=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",n),this.hierarchy=u,u}}},addRecord:function(n,t,i,r){var u=this,o=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}},e,f;if(n!=undefined)if(i!=undefined)this.hierarchy.length>0&&(e=function(r){var h,f,s;if(r)for(h=0;h<r.length;h++){if(f=r[h],f.uid==i)return s=u._source&&u._source.hierarchy?u._source.hierarchy.reservedNames:null,s==null&&(s=o()),n[s.parent]=f,n[s.level]=f[s.level]+1,f.records?f[s.leaf]=!1:(f.records=[],f[s.leaf]=!1),t=="last"?f.records.push(n):typeof t=="number"&&isFinite(t)?f.records.splice(t,0,n):f.records.splice(0,0,n),!0;f.records&&e(f.records)}},e(this.hierarchy));else return this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||r)?(f=u._source&&u._source.hierarchy?u._source.hierarchy.reservedNames:null,f==null&&(f=o()),n[f.level]=0,t=="last"?this.hierarchy.push(n):typeof t=="number"&&isFinite(t)?this.hierarchy.splice(t,0,n):this.hierarchy.splice(0,0,n)):t=="last"?this.records.push(n):typeof t=="number"&&isFinite(t)?this.records.splice(t,0,n):this.records.splice(0,0,n),!0;return!1},deleteRecord:function(n){var t=this,r,i,u;if(this.hierarchy.length>0)r=function(i){var f,o,e,u;if(i)for(f=0;f<i.length;f++){if(u=i[f],u.uid==n){for(i.splice(f,1),t.recordids[n]&&delete t.recordids[n],o=function(n){for(var u,r,f,i=0;i<n.length;i++){for(u=n[i].uid,r=0;r<t.records.length;r++)if(f=t.records[r],f.uid==u){t.records.splice(r,1);break}n[i].records&&o(n[i].records)}},u.records&&o(u.records),e=0;e<t.records.length;e++)if(u=t.records[e],u.uid==n){t.records.splice(e,1);break}return!0}u.records&&r(u.records)}},r(this.hierarchy);else for(i=0;i<this.records.length;i++)if(u=this.records[i],u.uid==n)return this.records.splice(i,1),!0;return!1},addForeignValues:function(n){for(var t,o,e,r,h,c,l,v,u,f,i=this,p=n.datafields?n.datafields.length:0,a=0;a<p;a++)if(t=n.datafields[a],t!=undefined)if(t.values!=undefined)for(t.value==undefined&&(t.value=t.name),t.values.value==undefined&&(t.values.value=t.value),o=[],i.pageable&&i.virtualmode?(e=i.pagenum*i.pagesize,r=e+i.pagesize,r>i.totalrecords&&(r=i.totalrecords)):i.virtualmode?(e=n.recordstartindex,r=n.recordendindex,r>i.totalrecords&&(r=i.totalrecords)):(e=0,r=i.records.length),u=e;u<r;u++){var f=i.records[u],y=t.name,s=f[t.value];if(o[s]!=undefined)f[y]=o[s];else for(h=0;h<t.values.source.length;h++)if(c=t.values.source[h],l=c[t.values.value],l==undefined&&(l=c.uid),l==s){v=c[t.values.name];f[y]=v;o[s]=v;break}}else if(t.value!=undefined)for(u=0;u<i.records.length;u++)f=i.records[u],f[t.name]=f[t.value]},abort:function(){this.xhr&&this.xhr.readyState!=4&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,r){var u=this,f=function(t){var s,o,f,e;for(t.totalrecords&&(i.totalrecords=t.totalrecords,u.totalrecords=t.totalrecords),t.records&&(u.records=t.records,u.cachedrecords=t.records),u.addForeignValues(i),r.uniqueDataFields&&(s=u.getUniqueRecords(u.records,r.uniqueDataFields),u.records=s,u.cachedrecords=s),r.beforeLoadComplete&&(o=r.beforeLoadComplete(u.records,data),o!=undefined&&(u.records=o,u.cachedrecords=o)),f=0;f<u.records.length;f++)(e=u.records[f],undefined!=e)&&undefined==e.uid&&(e.uid=u.getid(i.id,e,f));u.buildHierarchy.call(u);n.isFunction(r.loadComplete)&&r.loadComplete(t);u.callDownloadComplete()};r.loadServerData(t,i,f)},getUniqueRecords:function(n,t){var i,r,u,f,s;if(n&&t){var h=n.length,c=t.length,e=[],o=[];for(i=0;i<h;i++)if(r=n[i],u="",r!=undefined){for(f=0;f<c;f++)s=t[f],u+=r[s]+"_";o[u]||(e[e.length]=r);o[u]=!0}}return e},getAggregatedData:function(t,i,r,u){var c=r,l,p,w,v,s,f,o,y;c||(c=this.records);var e={},a=[],h=c.length;if(h!=0&&h!=undefined){for(l=0;l<h;l++)for(p=c[l],s=0;s<t.length;s++)f=t[s],o=p[f.name],f.aggregates&&(e[f.name]=e[f.name]||{},a[f.name]=a[f.name]||0,a[f.name]++,w=function(t){for(obj in t){var i=e[f.name][obj];i==null&&(e[f.name][obj]=0,i=0);n.isFunction(t[obj])&&(i=t[obj](i,o,f.name,p,u));e[f.name][obj]=i}},v=parseFloat(o),v=isNaN(v)?!1:!0,v&&(o=parseFloat(o)),typeof o=="number"&&isFinite(o)?n.each(f.aggregates,function(){var n=e[f.name][this];if(n==null&&(n=0,this=="min"&&(n=9999999999999),this=="max"&&(n=-9999999999999)),this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp")n+=parseFloat(o);else if(this=="product")l==0?n=parseFloat(o):n*=parseFloat(o);else if(this=="min")n=Math.min(n,parseFloat(o));else if(this=="max")n=Math.max(n,parseFloat(o));else if(this=="count")n++;else if(typeof this=="object"){w(this);return}e[f.name][this]=n}):n.each(f.aggregates,function(){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){if(o===null)return!0;var n=e[f.name][this];return n==null&&(n=0),e[f.name][this]=n,!0}typeof this=="object"&&w(this)}));for(s=0;s<t.length;s++)f=t[s],e[f.name]||(e[f.name]={},n.each(f.aggregates,function(){e[f.name][this]=0})),e[f.name].avg!=undefined?(o=e[f.name].avg,y=a[f.name],e[f.name].avg=y===0||y==undefined?0:o/y):e[f.name].count!=undefined&&(e[f.name].count=h),(e[f.name].stdev||e[f.name].stdevp||e[f.name]["var"]||e[f.name].varp)&&n.each(f.aggregates,function(){var t,s,r,n;if(this=="stdev"||this=="var"||this=="varp"||this=="stdevp"){var l=e[f.name][this],u=h,o=l/h,i=0;for(t=0;t<h;t++)s=c[t],r=s[f.name],i+=(r-o)*(r-o);n=this=="stdevp"||this=="varp"?u:u-1;n==0&&(n=1);this=="var"||this=="varp"?e[f.name][this]=i/n:(this=="stdevp"||this=="stdev")&&(e[f.name][this]=Math.sqrt(i/n))}}),f.formatStrings&&n.each(f.aggregates,function(t){var u=f.formatStrings[t],r;if(u)if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp")r=e[f.name][this],e[f.name][this]=n.jqx.dataFormat.formatnumber(r,u,i);else if(typeof this=="object")for(obj in this)r=e[f.name][obj],e[f.name][obj]=n.jqx.dataFormat.formatnumber(r,u,i)});return e}},bindDownloadComplete:function(n,t){this._downloadComplete[this._downloadComplete.length]={id:n,func:t}},unbindDownloadComplete:function(n){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==n){this._downloadComplete[t].func=null;this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var t,n=0;n<this._downloadComplete.length;n++)t=this._downloadComplete[n],t.func!=null&&t.func()},setSource:function(n){this._source=n},generatekey:function(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},getGroupedRecords:function(t,i,r,u,f,e,o,s,h){var rt=this,nt,v,s,ft,et,k,l,y,ot,st,it,w,d,ht,g,a;for(h||(h=0),nt=[],v=0;v<t.length;v++)nt[v]=rt.generatekey();i||(i="items");r||(r="group");f||(f="record");o||(o="parentItem");undefined===e&&(e="value");var tt=[],ct=0,b=[],ut=t.length;for(s||(s=this.records),ft=s.length,et=function(t){var i=t;return u&&n.each(u,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},k=0;k<ft;k++){for(l=et(s[k]),id=l[rt.uniqueId],y=[],ot=0,v=0;v<ut;v++)(st=t[v],it=l[st],null!=it)&&(y[ot++]={value:it,hash:nt[v]});if(y.length!=ut)break;var c=null,p="",lt=-1;for(w=0;w<y.length;w++){if(lt++,d=y[w].value,ht=y[w].hash,p=p+"_"+ht+"_"+d,b[p]!=undefined&&b[p]!=null){c=b[p];continue}c==null?(c={level:0},c[o]=null,c[r]=d,c[f]=l,c.expanded=l.expanded!==undefined?l.expanded:!1,e&&(c[e]=l[e]),c[i]=[],g=tt.length+h,(!this._source.id||typeof l.uid=="number"||isFinite(l.uid))&&(g="Row"+g),c.uid=g,tt[ct++]=c):(a={level:c.level+1},a[o]=c,a[r]=d,a[i]=[],a[f]=l,a.expanded=l.expanded!==undefined?l.expanded:!1,e&&(a[e]=l[e]),a.uid=c.uid+"_"+c[i].length,c[i][c[i].length]=a,c=a);b[p]=c}l&&(l.leaf=!0);c!=null?(this._source.id==null&&(undefined==l.uid?l.uid=c.uid+"_"+c[i].length:l.uid.toString().indexOf(c.uid)==-1&&(l.uid=c.uid+"_"+l.uid)),l[o]=c,l.level=c.level+1,c[i][c[i].length]=l):undefined==l.uid&&(l.uid=this.generatekey())}return tt},getRecordsHierarchy:function(t,i,r,u,f){var v=[],d=this.records,s,h,c,tt,o,a,k;if(f&&(d=f),this.records.length==0)return null;var y=r!=null?r:"items",l=[],b=d,g=b.length,e=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,nt=function(t){var i=t;return u&&n.each(u,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i};for(s=0;s<g;s++){var h=n.extend({},b[s]),p=h[i],w=h[t];l[w]={parentid:p,item:h}}for(s=0;s<g;s++){var h=n.extend({},b[s]),p=h[i],w=h[t];l[p]!=undefined?(h={parentid:p,item:l[w].item},c=l[p].item,c[y]||(c[y]=[]),tt=c[y].length,o=h.item,e?o[e.parent]==undefined&&(o[e.parent]=c):o.parent==undefined&&(o.parent=c),a=nt(o),c[y][tt]=a,l[p].item=c,l[w]=h):(o=l[w].item,e?o[e.parent]==undefined&&(o[e.parent]=null):o.parent==undefined&&(o.parent=null),a=nt(o),e?a[e.level]=0:a.level=0,v[v.length]=a)}return v.length!=0&&(k=function(n,t){for(var r,i=0;i<t.length;i++)e?t[i][e.level]=n:t[i].level=n,r=t[i][y],r?r.length>0?k(n+1,r):e?t[i][e.leaf]=!0:t[i].leaf=!0:e?t[i][e.leaf]=!0:t[i].leaf=!0},k(0,v)),v},bindBindingUpdate:function(n,t){this._bindingUpdate[this._bindingUpdate.length]={id:n,func:t}},unbindBindingUpdate:function(n){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==n){this._bindingUpdate[t].func=null;this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(n){for(var i,t=0;t<this._bindingUpdate.length;t++)i=this._bindingUpdate[t],i.func!=null&&i.func(n)},getid:function(t,i,r){var u,e,f,o;if(t!=null&&t.name!=undefined&&t.name){if(u=n(i).attr(t.name),u!=null&&u.toString().length>0)return u;if(t.map)try{if(u=n(i).attr(t.map),u!=null&&u.toString().length>0)return u;if(n(t.map,i).length>0)return n(t.map,i).text();if(n(t.name,i).length>0)return n(t.name,i).text()}catch(s){return r}return}if(n(t,i).length>0)return n(t,i).text();if(t&&t.toString().length>0){if(u=n(i).attr(t),u!=null&&u.toString().length>0)return n.trim(u).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");if(e=t.split(this.mapChar),e.length>1){for(f=i,o=0;o<e.length;o++)f!=undefined&&(f=f[e[o]]);if(f!=undefined)return f}else if(i[t]!=undefined)return i[t]}return r},loadjson:function(t,i,r){var t,y,h,a,p,c,w,b,ut,k,ft,d,l,s,v,nt,tt,f,u,e,g,o,it,rt;if(typeof t=="string"&&(t=n.parseJSON(t)),r.root==undefined&&(r.root=""),r.record==undefined&&(r.record=""),t=t||i,t||(t=[]),y=this,r.root!=""){if(e=r.root.split(y.mapChar),e.length>1){for(h=t,o=0;o<e.length;o++)h!=undefined&&(h=h[e[o]]);t=h}else if(t[r.root]!==undefined?t=t[r.root]:t[0]&&t[0][r.root]!==undefined?t=t[0][r.root]:n.each(t,function(){var n=this;if(this==r.root)return t=this,!1;this[r.root]!=undefined&&(t=this[r.root])}),!t&&(e=r.root.split(y.mapChar),e.length>0)){for(h=t,o=0;o<e.length;o++)h!=undefined&&(h=h[e[o]]);t=h}}else if(!t.length)for(obj in t)if(n.isArray(t[obj])){t=t[obj];break}if(t!=null&&t.length==undefined&&(t=n.makeArray(t)),t==null||t==undefined||t=="undefined"||t.length==undefined)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(t.length==0){this.totalrecords=0;return}if(a=t.length,this.totalrecords=this.virtualmode?r.totalrecords||a:a,this.records=[],this.originaldata=[],p=this.records,c=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,this.recordids=[],r.loadallrecords&&(c=0,a=this.totalrecords),w=0,this.virtualmode&&(c=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,w=c,c=0,a=this.totalrecords),b=r.datafields?r.datafields.length:0,b==0){ut=t[0];k=[];for(obj in ut)ft=obj,k[k.length]={name:ft};r.datafields=k;r.generatedfields=r.datafields;b=k.length}for(d=c,l=c;l<a;l++){if(s=t[l],s==undefined)break;if((!r.record||r.record==""||(s=s[r.record],s!=undefined))&&(v=this.getid(r.id,s,l),typeof v=="object"&&(v=l),!this.recordids[v])){for(this.recordids[v]=s,nt={},tt=0;tt<b;tt++)if(f=r.datafields[tt],u="",undefined!=f&&f!=null){if(f.map){if(n.isFunction(f.map))u=f.map(s);else if(e=f.map.split(y.mapChar),e.length>0){for(g=s,o=0;o<e.length;o++)g!=undefined&&(g=g[e[o]]);u=g}else u=s[f.map];u!=undefined&&u!=null?u=this.getvaluebytype(u,f):u==undefined&&u!=null&&(u="")}u!=""||f.map||(u=s[f.name],u==undefined&&u!=null&&(u=""),f.value!=undefined&&u!=undefined&&(it=u[f.value],it!=undefined&&(u=it)));u=this.getvaluebytype(u,f);f.displayname!=undefined?nt[f.displayname]=u:nt[f.name]=u;f.type==="array"&&(rt=function(t){var o,f,s,u,i,h,e,c,l;if(t)for(o=0;o<t.length;o++)if(f=t[o],f)for(s=0;s<b;s++)if(u=r.datafields[s],i="",undefined!=u&&u!=null){if(u.map){if(n.isFunction(u.map))i=u.map(f);else if(h=u.map.split(y.mapChar),h.length>0){for(e=f,c=0;c<h.length;c++)e!=undefined&&(e=e[h[c]]);i=e}else i=f[u.map];i!=undefined&&i!=null?i=this.getvaluebytype(i,u):i==undefined&&i!=null&&(i="")}i!=""||u.map||(i=f[u.name],i==undefined&&i!=null&&(i=""),u.value!=undefined&&i!=undefined&&(l=i[u.value],l!=undefined&&(i=l)));i=this.getvaluebytype(i,u);u.displayname!=undefined?f[u.displayname]=i:f[u.name]=i;u.type==="array"&&rt.call(this,i)}},rt.call(this,u))}(r.recordendindex<=0||c<r.recordendindex)&&(p[w+d]=n.extend({},nt),p[w+d].uid=v,this.originaldata[w+d]=n.extend({},p[l]),d++)}}this.records=p;this.cachedrecords=this.records},loadxml:function(t,i,r){var t,l,a,h,y,b,it,p,rt,w,ut,k,d,g,f,u,nt,s,c,st,o,e,tt,v;if(typeof t=="string"&&(t=i=n(n.parseXML(t)),t=null),r.root==undefined&&(r.root=""),r.record==undefined&&(r.record=""),t=n.jqx.browser.msie&&i?i.xml!=undefined?n(r.root+" "+r.record,n.parseXML(i.xml)):t||n(r.root+" "+r.record,i):t||n(r.root+" "+r.record,i),t||(t=[]),l=t.length,t.length!=0){if(this.totalrecords=this.virtualmode?r.totalrecords||l:l,this.records=[],this.originaldata=[],a=this.records,h=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,this.recordids=[],r.loadallrecords&&(h=0,l=this.totalrecords),y=0,this.virtualmode&&(h=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,y=h,h=0,l=this.totalrecords),b=r.datafields?r.datafields.length:0,b==0){it=t[0];p=[];for(obj in it)rt=obj,p[p.length]={name:rt};r.datafields=p;r.generatedfields=r.datafields;b=p.length}for(w=h,ut=!1,o=h;o<l;o++){if(e=t[o],e==undefined)break;if(v=this.getid(r.id,e,o),!this.recordids[v]){for(this.recordids[v]=e,k={},d=!1,r.hierarchy&&r.hierarchy.root&&(d=!0),g=0;g<b;g++)if(f=r.datafields[g],u="",undefined!=f&&f!=null){if(f.map)if(n.isFunction(f.map))u=f.map(e);else{if(nt=f.map.indexOf("["),nt<0)if(u=n(f.map,e),u.length==1)u=u.text();else{for(ut=!0,s=[],c=0;c<u.length;c++)s.push(n(u[c]).text());u=s;d&&s.length>0&&(u=s[0])}else{var et=f.map.substring(0,nt-1),ot=f.map.indexOf("]"),ft=f.map.substring(nt+1,ot);u=n(et,e).attr(ft);u==undefined&&(u=n(e).attr(ft));u==undefined&&(u="")}u==""&&(u=n(e).attr(f.map),u==undefined&&(u=""))}if(u==""){if(u=n(f.name,e),u.length==1)u=u.text();else{for(s=[],c=0;c<u.length;c++)s.push(n(u[c]).text());u=s;d&&s.length>0&&(u=s[0])}u==""&&(u=n(e).attr(f.name),u==undefined&&(u=""));u==""&&e.nodeName&&e.nodeName==f.name&&e.firstChild&&(u=n(e.firstChild).text())}st=u;u=this.getvaluebytype(u,f);f.displayname!=undefined?k[f.displayname]=u:k[f.name]=u}(r.recordendindex<=0||h<r.recordendindex)&&(a[y+w]=n.extend({},k),a[y+w].uid=v,this.originaldata[y+w]=n.extend({},a[o]),w++)}}if(r.hierarchy&&r.hierarchy.root)for(o=h;o<l;o++)e=t[o],tt=a[o],n(e).parent().length>0?(v=this.getid(r.id,n(e).parents(r.hierarchy.record+":first")),tt.parentuid=v):tt.parentuid=null;this.records=a;this.cachedrecords=this.records}},loadics:function(n,t){var o,a,s,f,i,r,c;if(n!=null){var l=t.rowDelimiter||this.rowDelimiter||"\n",u=n.split(l),e=u.length,h=n.split("\r");for(e==1&&h.length>1&&(u=h,e=u.length),this.records=[],this.originaldata=[],o=this.records,this.recordids=[],a=0,s=function(n){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(n);if(!t)throw new Error("Invalid UNTIL value: "+n);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},f=0;f<e;f++){if(i=u[f],i=="BEGIN:VEVENT"){r={};continue}if(i.indexOf("SUMMARY")>=0){r.SUMMARY=i.substring(i.indexOf("SUMMARY")+8);continue}if(i.indexOf("LOCATION")>=0){r.LOCATION=i.substring(i.indexOf("LOCATION")+9);continue}if(i.indexOf("DESCRIPTION")>=0){r.DESCRIPTION=i.substring(i.indexOf("DESCRIPTION")+12);continue}if(i.indexOf("RRULE")>=0){r.RRULE=i.substring(i.indexOf("RRULE")+6);continue}if(i.indexOf("EXDATE")>=0){c=i.substring(i.indexOf("EXDATE")+7);r.EXDATE=c;continue}if(i.indexOf("DTEND")>=0){r.DTEND=s(i.substring(i.indexOf("DTEND")+6));continue}if(i.indexOf("DTSTART")>=0){r.DTSTART=s(i.substring(i.indexOf("DTSTART")+8));continue}if(i.indexOf("UID")>=0){r.uid=r.UID=i.substring(i.indexOf("UID")+4);continue}if(i.indexOf("STATUS")>=0){r.STATUS=i.substring(i.indexOf("STATUS")+7);continue}if(i=="END:VEVENT"){o.push(r);continue}}this.records=o;this.cachedrecords=this.records}},loadtext:function(t,i){var l,s,a,k,v,r,y,u,p,w,o,f,h,d;if(t!=null){var g=i.rowDelimiter||this.rowDelimiter||"\n",c=t.split(g),e=c.length,b=t.split("\r");for(e==1&&b.length>1&&(c=b,e=c.length),this.totalrecords=this.virtualmode?i.totalrecords||e:e,this.records=[],this.originaldata=[],l=this.records,s=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,this.recordids=[],i.loadallrecords&&(s=0,e=this.totalrecords),a=0,this.virtualmode&&(s=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,a=s,s=0,e=this.totalrecords),k=i.datafields.length,v=i.columnDelimiter||this.columnDelimiter,v||(v=i.datatype==="tab"||i.datatype==="tsv"?"\t":","),r=s;r<e;r++)if(y=c[r],u=null,!this.recordids[u]){for(i.id==null&&(u=r,this.recordids[u]=y),p={},w=c[r].split(v),o=0;o<k;o++)o>=w.length||(f=i.datafields[o],h=w[o],f.map&&n.isFunction(f.map)&&(h=f.map(y)),f.type&&(h=this.getvaluebytype(h,f)),d=f.map||f.name||o.toString(),p[d]=h,i.id!=null&&i.id===f.name&&(u=h,this.recordids[u]=y));u==null&&(u=r);l[a+r]=n.extend({},p);l[a+r].uid=u;this.originaldata[a+r]=n.extend({},l[r])}this.records=l;this.cachedrecords=this.records}},getvaluebytype:function(t,i){var f=t,u,r,e,t;if(t==null)return t;if(n.isArray(t)&&i.type!="array"){for(u=0;u<t.length;u++)t[u]=this.getvaluebytype(t[u],i);return t}return i.type=="date"?t=="NaN"?t="":(r=new Date(t),typeof t=="string"&&i.format&&(e=n.jqx.dataFormat.parsedate(t,i.format),e!=null&&(r=e)),t=r.toString()=="NaN"||r.toString()=="Invalid Date"?n.jqx.dataFormat?n.jqx.dataFormat.tryparsedate(t):r:r,t==null&&(t=f)):i.type=="float"||i.type=="number"||i.type=="decimal"?t=="NaN"?t="":(t=parseFloat(t),isNaN(t)&&(t=f)):i.type=="int"||i.type=="integer"?(t=parseInt(t),isNaN(t)&&(t=f)):(i.type=="bool"||i.type=="boolean")&&(t!=null&&t.toLowerCase!=undefined&&(t.toLowerCase()=="false"?t=!1:t.toLowerCase()=="true"&&(t=!0)),t=t==1?!0:t==0&&t!==""?!1:""),t}};n.jqx.dataFormat={};n.extend(n.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(n){return typeof n=="boolean"},isObject:function(t){return t&&(typeof t=="object"||n.isFunction(t))||!1},isDate:function(n){return n instanceof Date},arrayIndexOf:function(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"&&isFinite(n)},isNull:function(n){return n===null},isUndefined:function(n){return typeof n=="undefined"},isValue:function(n){return this.isObject(n)||this.isString(n)||this.isNumber(n)||this.isBoolean(n)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=n.trim(t).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,""),t===""):!0},startsWith:function(n,t){return n.indexOf(t)===0},endsWith:function(n,t){return n.substr(n.length-t.length)===t},trim:function(n){return(n+"").replace(this.regexTrim,"")},isArray:function(n){return this.toString.call(n)==="[object Array]"},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(n,t){t=t||"F";var i,u=n.patterns,r=t.length;if(r===1){if(i=u[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else r===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t},getEra:function(n,t){var r,u,i,f;if(!t||typeof n=="string")return 0;for(u=n.getTime(),i=0,f=t.length;i<f;i++)if(r=t[i].start,r===null||u>=r)return i;return 0},toUpper:function(n){return n.split(" ").join(" ").toUpperCase()},toUpperArray:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=this.toUpper(n[t]);return i},getEraYear:function(n,t,i,r){var u=n.getFullYear();return!r&&t.eras&&(u-=t.eras[i].offset),u},toUpper:function(n){return n?n.toUpperCase():""},getDayIndex:function(n,t,i){var r,f=n.days,u=n._upperDays;return u||(n._upperDays=u=[this.toUpperArray(f.names),this.toUpperArray(f.namesAbbr),this.toUpperArray(f.namesShort)]),t=t.toUpperCase(),i?(r=this.arrayIndexOf(u[1],t),r===-1&&(r=this.arrayIndexOf(u[2],t))):r=this.arrayIndexOf(u[0],t),r},getMonthIndex:function(n,t,i){var e=n.months,o=n.monthsGenitive||n.months,r=n._upperMonths,f=n._upperMonthsGen,u;return r||(n._upperMonths=r=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)],n._upperMonthsGen=f=[this.toUpperArray(o.names),this.toUpperArray(o.namesAbbr)]),t=this.toUpper(t),u=this.arrayIndexOf(i?r[1]:r[0],t),u<0&&(u=this.arrayIndexOf(i?f[1]:f[0],t)),u},appendPreOrPostMatch:function(n,t){for(var u,f=0,i=!1,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.push("'"):f++;i=!1;break;case"\\":i&&t.push("\\");i=!i;break;default:t.push(u);i=!1}}return f},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(n,t){var i="";return(t&&t.target&&(i="target="+t.target),i!="")?"<a "+i+' href="'+n+'">'+n+"<\/a>":'<a href="'+n+'">'+n+"<\/a>"},formatemail:function(n){return'<a href="mailto:'+n+'">'+n+"<\/a>"},formatNumber:function(n,t,i){return this.formatnumber(n,t,i)},formatnumber:function(n,t,i){var c,u,l,h,a,r,y,o,v,s;if((i==undefined||i==null||i=="")&&(i=this.defaultcalendar()),t===""||t===null)return n;this.isNumber(n)||(n*=1);t.length>1&&(c=parseInt(t.slice(1),10));u={};l=t.charAt(0).toUpperCase();u.thousandsSeparator=i.thousandsseparator;u.decimalSeparator=i.decimalseparator;switch(l){case"D":case"d":case"F":case"f":u.decimalPlaces=c;break;case"N":case"n":u.decimalPlaces=0;break;case"C":case"c":u.decimalPlaces=c;i.currencysymbolposition=="before"?u.prefix=i.currencysymbol:u.suffix=i.currencysymbol;break;case"P":case"p":u.suffix=i.percentsymbol;u.decimalPlaces=c;break;default:throw"Bad number format specifier: "+l;}if(this.isNumber(n)){var p=n<0,r=n+"",e=u.decimalSeparator?u.decimalSeparator:".",f;if(this.isNumber(u.decimalPlaces)){if(h=u.decimalPlaces,a=Math.pow(10,h),r=(n*a).toFixed(0)/a+"",f=r.lastIndexOf("."),h>0)for(f<0?(r+=e,f=r.length-1):e!=="."&&(r=r.replace(".",e));r.length-1-f<h;)r+="0"}else r=n+"",f=r.lastIndexOf("."),f>0&&h==undefined&&e!=="."&&(r=r.replace(".",e));if(u.thousandsSeparator){for(y=u.thousandsSeparator,f=r.lastIndexOf(e),f=f>-1?f:r.length,o=r.substring(f),v=-1,s=f;s>0;s--)v++,v%3==0&&s!==f&&(!p||s>1)&&(o=y+o),o=r.charAt(s-1)+o;r=o}return r=u.prefix?u.prefix+r:r,u.suffix?r+u.suffix:r}return n},tryparsedate:function(t,i){var it,wt,s,y,rt,bt,st,ht,r,ut,dt,u,a,d,ft,vt,yt,f,e,pt,et,ot,h,p,c;if((i==undefined||i==null)&&(i=this.defaultcalendar()),it=this,t=="")return null;if(t==null||t.substring||(t=t.toString()),t!=null&&t.substring(0,6)=="/Date(")return(wt=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,s=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1")),s=="Invalid Date"&&(h=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),s=null,h&&(s=new Date(1*h[1]+36e5*h[2]+6e4*h[3]))),(s==null||s=="Invalid Date"||isNaN(s))&&(y=wt.exec(t),y&&(c=new Date(parseInt(y[1])),y[2]&&(rt=parseInt(y[3]),y[2]==="-"&&(rt=-rt),bt=c.getUTCMinutes(),c.setUTCMinutes(bt-rt)),!isNaN(c.valueOf()))))?c:s;patterns=i.patterns;for(prop in patterns)if(s=it.parsedate(t,patterns[prop],i),s)return prop=="ISO"&&(st=it.parsedate(t,patterns.ISO2,i),st)?st:s;if(t!=null){var st=null,l=[":","/","-"],kt=!0;for(e=0;e<l.length;e++)t.indexOf(l[e])!=-1&&(kt=!1);if(kt&&(ht=new Number(t),!isNaN(ht)))return new Date(ht)}if(n.type(t)==="string"){if(r=it,t=r.trim(t),ut=[":","/","-"," ",","],dt=function(n,t,i){return i.replace(new RegExp(n,"g"),t)},t=dt(", ",",",t),u="",a=t,t.indexOf(":")>=0?(u=t.substring(t.indexOf(":")-2),u=r.trim(u),a=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(u=t.substring(t.toUpperCase().indexOf("AM")-2),u=r.trim(u),a=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(u=t.substring(t.toUpperCase().indexOf("PM")-2),u=r.trim(u),a=t.substring(0,t.toUpperCase().indexOf("PM")-2)),d=new Date,ft=!1,a){for(f=0;f<ut.length;f++)if(a.indexOf(ut[f])>=0){l=a.split(ut[f]);break}var ct=[],lt=[],g=[],nt=null,at=null;for(f=0;f<l.length;f++)if(e=l[f],vt=r.parsedate(e,"d",i)||r.parsedate(e,"dd",i)||r.parsedate(e,"ddd",i)||r.parsedate(e,"dddd",i),vt&&e.length<=2){nt=f;ct.push(vt.getDate());break}for(f=0;f<l.length;f++)if(e=l[f],yt=r.parsedate(e,"M",i)||r.parsedate(e,"MM",i)||r.parsedate(e,"MMM",i)||r.parsedate(e,"MMMM",i),yt){if(nt!=undefined&&nt==f)continue;if(lt.push(yt.getMonth()),e.length>2){at=f;break}}for(f=0;f<l.length;f++)if(e=l[f],pt=r.parsedate(e,"yyyy",i),pt){if(nt!=undefined&&nt==f)continue;if(at!=undefined&&at==f)continue;g.push(pt.getFullYear())}for(et=[],ot=0;ot<ct.length;ot++)for(h=0;h<lt.length;h++)for(p=0;p<g.length;p++)c=new Date(g[p],lt[h],ct[ot]),g[p]<1970&&c.setFullYear(g[p]),c.getTime()!=NaN&&et.push(c);et.length>0&&(d=et[0],ft=!0)}if(u){var o=u.indexOf(":")>=0?u.split(":"):u,w=r.parsedate(u,"h:mm tt",i)||r.parsedate(u,"h:mm:ss tt",i)||r.parsedate(u,"HH:mm:ss.fff",i)||r.parsedate(u,"HH:mm:ss.ff",i)||r.parsedate(u,"HH:mm:ss.tttt",i)||r.parsedate(u,"HH:mm:ss",i)||r.parsedate(u,"HH:mm",i)||r.parsedate(u,"HH",i),v=0,b=0,k=0,tt=0;w&&w.getTime()!=NaN?(v=w.getHours(),b=w.getMinutes(),k=w.getSeconds(),tt=w.getMilliseconds()):(o.length==1&&(v=parseInt(o[0])),o.length==2&&(v=parseInt(o[0]),b=parseInt(o[1])),o.length==3&&(v=parseInt(o[0]),b=parseInt(o[1]),o[2].indexOf(".")>=0?(k=parseInt(o[2].toString().split(".")[0]),tt=parseInt(o[2].toString().split(".")[1])):k=parseInt(o[2])),o.length==4&&(v=parseInt(o[0]),b=parseInt(o[1]),k=parseInt(o[2]),tt=parseInt(o[3])));!d||isNaN(v)||isNaN(b)||isNaN(k)||isNaN(tt)||(d.setHours(v,b,k,tt),ft=!0)}if(ft)return d}return null},getparseregexp:function(n,t){var f=n._parseRegExp,o,v,e,y,i,p,w;if(f){if(o=f[t],o)return o}else n._parseRegExp=f={};for(var s=this.expandFormat(n,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),r=["^"],c=[],h=0,l=0,a=this.getTokenRegExp(),u;(u=a.exec(s))!==null;){if(v=s.slice(h,u.index),h=a.lastIndex,l+=this.appendPreOrPostMatch(v,r),l%2){r.push(u[0]);continue}e=u[0];y=e.length;switch(e){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i="(\\D+)";break;case"tt":case"t":i="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":i="(\\d{"+y+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i="(\\d\\d?)";break;case"zzz":i="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":i="([+-]?\\d\\d?)";break;case"/":i="(\\"+n["/"]+")";break;default:throw"Invalid date format pattern '"+e+"'.";}i&&r.push(i);c.push(u[0])}return this.appendPreOrPostMatch(s.slice(h),r),r.push("$"),p=r.join("").replace(/\s+/g,"\\s+"),w={regExp:p,groups:c},f[t]=w},outOfRange:function(n,t,i){return n<t||n>i},expandYear:function(n,t){var u=new Date,f=this.getEra(u),i,r;return t<100&&(i=n.twoDigitYearMax,i=typeof i=="string"?(new Date).getFullYear()%100+parseInt(i,10):i,r=this.getEraYear(u,n,f),t+=r-r%100,t>i&&(t-=100)),t},parsedate:function(n,t,i){var a,ht,u,k,d,v,y,lt,f,at,ut,ft;(i==undefined||i==null)&&(i=this.defaultcalendar());n=this.trim(n);var r=i,et=this.getparseregexp(r,t),ot=new RegExp(et.regExp).exec(n);if(ot===null)return null;var st=et.groups,g=null,h=null,s=null,c=null,p=null,o=0,l,nt=0,tt=0,it=0,w=null,rt=!1;for(a=0,ht=st.length;a<ht;a++)if(u=ot[a+1],u){var ct=st[a],b=ct.length,e=parseInt(u,10);switch(ct){case"dd":case"d":if(c=e,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(s=this.getMonthIndex(r,u,b===3),this.outOfRange(s,0,11))return null;break;case"M":case"MM":if(s=e-1,this.outOfRange(s,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=b<4?this.expandYear(r,e):e,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(o=e,o===12&&(o=0),this.outOfRange(o,0,11))return null;break;case"H":case"HH":if(o=e,this.outOfRange(o,0,23))return null;break;case"m":case"mm":if(nt=e,this.outOfRange(nt,0,59))return null;break;case"s":case"ss":if(tt=e,this.outOfRange(tt,0,59))return null;break;case"tt":case"t":if(rt=r.PM&&(u===r.PM[0]||u===r.PM[1]||u===r.PM[2]),!rt&&(!r.AM||u!==r.AM[0]&&u!==r.AM[1]&&u!==r.AM[2]))return null;break;case"f":case"ff":case"fff":if(it=e*Math.pow(10,3-b),this.outOfRange(it,0,999))return null;break;case"ddd":case"dddd":if(p=this.getDayIndex(r,u,b===3),this.outOfRange(p,0,6))return null;break;case"zzz":if((k=u.split(/:/),k.length!==2)||(l=parseInt(k[0],10),this.outOfRange(l,-12,13))||(d=parseInt(k[1],10),this.outOfRange(d,0,59)))return null;w=l*60+(this.startsWith(u,"-")?-d:d);break;case"z":case"zz":if(l=e,this.outOfRange(l,-12,13))return null;w=l*60;break;case"g":case"gg":if(v=u,!v||!r.eras)return null;for(v=trim(v.toLowerCase()),y=0,lt=r.eras.length;y<lt;y++)if(v===r.eras[y].name.toLowerCase()){g=y;break}if(g===null)return null}}if(f=new Date,ut=r.convert,at=f.getFullYear(),h===null?h=at:r.eras&&(h+=r.eras[g||0].offset),s===null&&(s=0),c===null&&(c=1),ut){if(f=ut.toGregorian(h,s,c),f===null)return null}else if((f.setFullYear(h,s,c),f.getDate()!==c)||p!==null&&f.getDay()!==p)return null;return rt&&o<12&&(o+=12),f.setHours(o,nt,tt,it),w!==null&&(ft=f.getMinutes()-(w+f.getTimezoneOffset()),f.setHours(f.getHours()+parseInt(ft/60,10),ft%60)),f},cleardatescache:function(){this.datescache=[]},formatDate:function(n,t,i){return this.formatdate(n,t,i)},formatdate:function(n,t,i){function f(n,t){var i,r=n+"";return t>1&&r.length<t?(i=nt[t-2]+r,i.substr(i.length-t,t)):r}function v(n,t){if(d)return d[t];if(n.getMonth!=undefined)switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate()}}var c,r,a,p,l,u,g,o,y;if((i==undefined||i==null)&&(i=this.defaultcalendar()),typeof n=="string")return n;if(c=n.toString()+"_"+t,this.datescache&&this.datescache[c])return this.datescache[c];if(!t||!t.length||t==="i")return this.formatDate(n,i.patterns.F,i);a=i.eras;p=t==="s";t=this.expandFormat(i,t);r=[];for(var e,nt=["0","00","000"],s,w,tt=/([^d]|^)(d|dd)([^d]|$)/g,b=0,k=this.getTokenRegExp(),d;;){var it=k.lastIndex,h=k.exec(t),rt=t.slice(it,h?h.index:t.length);if(b+=this.appendPreOrPostMatch(rt,r),!h)break;if(b%2){r.push(h[0]);continue}l=h[0];u=l.length;switch(l){case"ddd":case"dddd":g=u===3?i.days.namesAbbr:i.days.names;r.push(g[n.getDay()]);break;case"d":case"dd":s=!0;r.push(f(v(n,2),u));break;case"MMM":case"MMMM":o=v(n,1);r.push(i.months[u===3?"namesAbbr":"names"][o]);break;case"M":case"MM":r.push(f(v(n,1)+1,u));break;case"y":case"yy":case"yyyy":o=this.getEraYear(n,i,this.getEra(n,a),p);u<4&&(o=o%100);r.push(f(o,u));break;case"h":case"hh":e=n.getHours()%12;e===0&&(e=12);r.push(f(e,u));break;case"H":case"HH":r.push(f(n.getHours(),u));break;case"m":case"mm":r.push(f(n.getMinutes(),u));break;case"s":case"ss":r.push(f(n.getSeconds(),u));break;case"t":case"tt":o=n.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ";r.push(u===1?o.charAt(0):o);break;case"f":case"ff":case"fff":r.push(f(n.getMilliseconds(),3).substr(0,u));break;case"z":case"zz":e=n.getTimezoneOffset()/60;r.push((e<=0?"+":"-")+f(Math.floor(Math.abs(e)),u));break;case"zzz":e=n.getTimezoneOffset()/60;r.push((e<=0?"+":"-")+f(Math.floor(Math.abs(e)),2)+":"+f(Math.abs(n.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&r.push(i.eras[this.getEra(n,a)].name);break;case"/":r.push(i["/"]);break;default:throw"Invalid date format pattern '"+l+"'.";}}return y=r.join(""),this.datescache||(this.datescache=[]),this.datescache[c]=y,y}});n.jqx.data={};var t,i,k=/#.*$/,d=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,g=/^(?:GET|HEAD)$/,nt=/^\/\//,s=/\?/,tt=/([?&])_=[^&]*/,h=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,c=/\s+/,ot=n.fn.load,o={},l={},a=["*/"]+["*"];try{i=location.href}catch(st){i=document.createElement("a");i.href="";i=i.href}t=h.exec(i.toLowerCase())||[];n.extend(n.jqx.data,{ajaxSetup:function(t,i){return i?y(t,n.jqx.data.ajaxSettings):(i=t,t=n.jqx.data.ajaxSettings),y(t,i),t},ajaxSettings:{url:i,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":a},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:v(o),ajaxTransport:v(l),ajax:function(i,r){function st(t,i,r,u){var o,l,c,a,h,s=i;v!==2&&(v=2,ct&&clearTimeout(ct),w=undefined,ht=u||"",e.readyState=t>0?4:0,r&&(a=it(f,e,r)),t>=200&&t<300||t===304?(f.ifModified&&(h=e.getResponseHeader("Last-Modified"),h&&(n.lastModified[y]=h),h=e.getResponseHeader("Etag"),h&&(n.etag[y]=h)),t===304?(s="notmodified",o=!0):(o=rt(f,a),s=o.state,l=o.data,c=o.error,o=!c)):(c=s,(!s||t)&&(s="error",t<0&&(t=0))),e.status=t,e.statusText=(i||s)+"",o?at.resolveWith(p,[l,s,e]):at.rejectWith(p,[e,s,c]),e.statusCode(ot),ot=undefined,ft&&lt.trigger("ajax"+(o?"Success":"Error"),[e,f,o?l:c]),pt.fireWith(p,[e,s]),ft&&(lt.trigger("ajaxComplete",[e,f]),--n.active||n.event.trigger("ajaxStop")))}var vt,yt;typeof i=="object"&&(r=i,i=undefined);r=r||{};var y,ht,et,w,ct,b,ft,ut,f=n.jqx.data.ajaxSetup({},r),p=f.context||f,lt=p!==f&&(p.nodeType||p instanceof n)?n(p):n.event,at=n.Deferred(),pt=n.Callbacks("once memory"),ot=f.statusCode||{},wt={},bt={},v=0,kt="canceled",e={readyState:0,setRequestHeader:function(n,t){if(!v){var i=n.toLowerCase();n=bt[i]=bt[i]||n;wt[n]=t}return this},getAllResponseHeaders:function(){return v===2?ht:null},getResponseHeader:function(n){var t;if(v===2){if(!et)for(et={};t=d.exec(ht);)et[t[1].toLowerCase()]=t[2];t=et[n.toLowerCase()]}return t===undefined?null:t},overrideMimeType:function(n){return v||(f.mimeType=n),this},abort:function(n){return n=n||kt,w&&w.abort(n),st(0,n),this}};if(at.promise(e),e.success=e.done,e.error=e.fail,e.complete=pt.add,e.statusCode=function(n){if(n){var t;if(v<2)for(t in n)ot[t]=[ot[t],n[t]];else t=n[e.status],e.always(t)}return this},f.url=((i||f.url)+"").replace(k,"").replace(nt,t[1]+"//"),f.dataTypes=n.trim(f.dataType||"*").toLowerCase().split(c),f.crossDomain==null&&(b=h.exec(f.url.toLowerCase()),f.crossDomain=!!(b&&(b[1]!==t[1]||b[2]!==t[2]||(b[3]||(b[1]==="http:"?80:443))!=(t[3]||(t[1]==="http:"?80:443))))),f.data&&f.processData&&typeof f.data!="string"&&(f.data=n.param(f.data,f.traditional)),u(o,f,r,e),v===2)return e;ft=f.global;f.type=f.type.toUpperCase();f.hasContent=!g.test(f.type);ft&&n.active++==0&&n.event.trigger("ajaxStart");f.hasContent||(f.data&&(f.url+=(s.test(f.url)?"&":"?")+f.data,delete f.data),y=f.url,f.cache===!1&&(vt=n.now(),yt=f.url.replace(tt,"$1_="+vt),f.url=yt+(yt===f.url?(s.test(f.url)?"&":"?")+"_="+vt:"")));(f.data&&f.hasContent&&f.contentType!==!1||r.contentType)&&e.setRequestHeader("Content-Type",f.contentType);f.ifModified&&(y=y||f.url,n.lastModified[y]&&e.setRequestHeader("If-Modified-Since",n.lastModified[y]),n.etag[y]&&e.setRequestHeader("If-None-Match",n.etag[y]));e.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+(f.dataTypes[0]!=="*"?", "+a+"; q=0.01":""):f.accepts["*"]);for(ut in f.headers)e.setRequestHeader(ut,f.headers[ut]);if(f.beforeSend&&(f.beforeSend.call(p,e,f)===!1||v===2))return e.abort();kt="abort";for(ut in{success:1,error:1,complete:1})e[ut](f[ut]);if(w=u(l,f,r,e),w){e.readyState=1;ft&&lt.trigger("ajaxSend",[e,f]);f.async&&f.timeout>0&&(ct=setTimeout(function(){e.abort("timeout")},f.timeout));try{v=1;w.send(wt,st)}catch(dt){if(v<2)st(-1,dt);else throw dt;}}else st(-1,"No Transport");return e},active:0,lastModified:{},etag:{}});var p=[],ut=/\?/,f=/(=)\?(?=&|$)|\?\?/,ft=n.now();n.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=p.pop()||n.expando+"_"+ft++;return this[t]=!0,t}});n.jqx.data.ajaxPrefilter("json jsonp",function(t,i,r){var u,o,e,s=t.data,h=t.url,c=t.jsonp!==!1,l=c&&f.test(h),a=c&&!l&&typeof s=="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&f.test(s);if(t.dataTypes[0]==="jsonp"||l||a)return u=t.jsonpCallback=n.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o=window[u],l?t.url=h.replace(f,"$1"+u):a?t.data=s.replace(f,"$1"+u):c&&(t.url+=(ut.test(h)?"&":"?")+t.jsonp+"="+u),t.converters["script json"]=function(){return e||n.error(u+" was not called"),e[0]},t.dataTypes[0]="json",window[u]=function(){e=arguments},r.always(function(){window[u]=o;t[u]&&(t.jsonpCallback=i.jsonpCallback,p.push(u));e&&n.isFunction(o)&&o(e[0]);e=o=undefined}),"script"});n.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return n.globalEval(t),t}}});n.jqx.data.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)});n.jqx.data.ajaxTransport("script",function(n){if(n.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(r,u){t=document.createElement("script");t.async="async";n.scriptCharset&&(t.charset=n.scriptCharset);t.src=n.url;t.onload=t.onreadystatechange=function(n,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=undefined,r||u(200,"success"))};i.insertBefore(t,i.firstChild)},abort:function(){if(t)t.onload(0,1)}}}});e=window.ActiveXObject?function(){for(var n in r)r[n](0,1)}:!1;w=0;n.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&b()||et()}:b,function(t){n.extend(n.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(n.jqx.data.ajaxSettings.xhr());n.support.ajax&&n.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||n.support.cors){var i;return{send:function(u,f){var h,s,o=t.xhr();if(t.username?o.open(t.type,t.url,t.async,t.username,t.password):o.open(t.type,t.url,t.async),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");try{for(s in u)o.setRequestHeader(s,u[s])}catch(c){}o.send(t.hasContent&&t.data||null);i=function(u,s){var c,v,y,l,a;try{if(i&&(s||o.readyState===4))if(i=undefined,h&&(o.onreadystatechange=n.noop,e&&delete r[h]),s)o.readyState!==4&&o.abort();else{c=o.status;y=o.getAllResponseHeaders();l={};a=o.responseXML;a&&a.documentElement&&(l.xml=a);try{l.text=o.responseText}catch(w){}try{v=o.statusText}catch(w){v=""}c||!t.isLocal||t.crossDomain?c===1223&&(c=204):c=l.text?200:404}}catch(p){s||f(-1,p)}l&&f(c,v,l,y)};t.async?o.readyState===4?setTimeout(i,0):(h=++w,e&&(r||(r={},n(window).unload(e)),r[h]=i),o.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});n.jqx.filter=function(){var r;this.operator="and";var s=1,u=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],f=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],e=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],o=["EQUAL","NOT_EQUAL"],t=[],i=[];this.evaluate=function(n){for(var f,u=!0,r=0;r<t.length;r++)f=t[r].evaluate(n),u=r==0?f:i[r]==s||i[r]=="or"?u||f:u&&f;return u};this.getfilterscount=function(){return t.length};this.setoperatorsbyfiltertype=function(n,t){switch(n){case"numericfilter":f=t;break;case"stringfilter":u=t;break;case"datefilter":e=t;break;case"booleanfilter":o=t}};this.getoperatorsbyfiltertype=function(n){var t=[];switch(n){case"numericfilter":t=f.slice(0);break;case"stringfilter":t=u.slice(0);break;case"datefilter":t=e.slice(0);break;case"booleanfilter":t=o.slice(0)}return t};r=function(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return n()+"-"+n()+"-"+n()};this.createfilter=function(n,t,i,r,u,f){if(n==null||n==undefined)return null;switch(n){case"numericfilter":return new l(t,i.toUpperCase());case"stringfilter":return new h(t,i.toUpperCase());case"datefilter":return new a(t,i.toUpperCase(),u,f);case"booleanfilter":return new c(t,i.toUpperCase());case"custom":return new v(t,i.toUpperCase(),r)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'");};this.getfilters=function(){for(var r,u=[],n=0;n<t.length;n++)r={value:t[n].filtervalue,condition:t[n].comparisonoperator,operator:i[n],type:t[n].type},t[n].data&&(r.id=t[n].data),u[n]=r;return u};this.addfilter=function(n,u){t[t.length]=u;u.key=r();i[i.length]=n};this.removefilter=function(n){for(var r=0;r<t.length;r++)if(t[r].key==n.key){t.splice(r,1);i.splice(r,1);break}};this.getoperatorat=function(n){return n==undefined||n==null?null:n<0||n>t.length?null:i[n]};this.setoperatorat=function(n,r){if(n==undefined||n==null||n<0||n>t.length)return null;i[r]=r};this.getfilterat=function(n){return n==undefined||n==null?null:n<0||n>t.length?null:t[n]};this.setfilterat=function(n,i){if(n==undefined||n==null||n<0||n>t.length)return null;i.key=r();t[n]=i};this.clear=function(){t=[];i=[]};var h=function(t,i){this.filtervalue=t;this.comparisonoperator=i;this.type="stringfilter";this.evaluate=function(t){var i=this.filtervalue,h=this.comparisonoperator,c,y,l,e,o,r,s,v;if(t==null||t==undefined||t==""){if(h=="NULL"||h=="EQUAL"&&t==i||h=="NOT_EQUAL"&&t!=i)return!0;if(h!="EMPTY")return!1;if(t=="")return!0}c="";try{c=t.toString()}catch(k){return!0}if(y=function(t,i){switch(h){case"EQUAL":return n.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return n.jqx.string.equals(t,i);case"NOT_EQUAL":return!n.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!n.jqx.string.equals(t,i);case"CONTAINS":return n.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return n.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!n.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!n.jqx.string.contains(t,i);case"EMPTY":return t=="";case"NOT_EMPTY":return t!="";case"NOT_NULL":return t!=null;case"STARTS_WITH":return n.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return n.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return n.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return n.jqx.string.startsWith(t,i);default:return!1}},l=[],i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(e=y(c,i),e)return e;var u=i.indexOf(" AND ")>=0?i.split(" AND "):[],f=i.indexOf(" OR ")>=0?i.split(" OR "):[],p=i.indexOf(" and ")>=0?i.split(" and "):[],w=i.indexOf(" or ")>=0?i.split(" or "):[],a=i.indexOf("|")>=0?i.split("|"):[];if(a.length>0)for(r=0;r<a.length;r++)a[r]=n.trim(a[r]);if(o=i.indexOf(" ")>=0?i.split(" "):[],o.length>0)for(r=0;r<o.length;r++)o[r]=n.trim(o[r]);if(u=u.concat(o),u=u.concat(p),f=f.concat(a),f=f.concat(w),u.length>0)for(r=0;r<u.length;r++)!u[r].indexOf(" OR ")>=0&&l.push(u[r]);if(f.length>0)for(r=0;r<f.length;r++)!f[r].indexOf(" AND ")>=0&&l.push(f[r]);for(s=undefined,v=0;v<l.length;v++){var t=l[v],e=y(c,t),b=v<u.length?"and":"or";s=s==undefined?e:b=="or"?s||e:s&&e}return s}return y(c,i)}},c=function(n,t){this.filtervalue=n;this.comparisonoperator=t;this.type="booleanfilter";this.evaluate=function(n){var i=this.filtervalue,r=this.comparisonoperator,t;if(n==null||n==undefined)return r=="NULL"?!0:!1;t=n;switch(r){case"EQUAL":return t==i||t.toString()==i.toString();case"NOT_EQUAL":return t!=i&&t.toString()!=i.toString();default:return!1}}},l=function(t,i){this.filtervalue=t;this.comparisonoperator=i;this.type="numericfilter";this.evaluate=function(t){var i=this.filtervalue,h=this.comparisonoperator,u,v,f,c,r,l,a,t,y,e,p;if(t===null||t===undefined||t===""){if(h=="NOT_NULL")return!1;if(h=="NULL")return!0;switch(h){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if(h=="NULL")return!1;if(h=="NOT_NULL")return!0;u=t;try{u=parseFloat(u)}catch(k){if(t.toString()!="")return!1}if(v=function(t,i){switch(h){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return n.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return n.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return n.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return n.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return n.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return n.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!n.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!n.jqx.string.contains(t.toString(),i.toString());default:return!0}},f=[],i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(e=v(u,i),e)return e;i=i.toString();var s=i.indexOf(" AND ")>=0?i.split(" AND "):[],o=i.indexOf(" OR ")>=0?i.split(" OR "):[],w=i.indexOf(" and ")>=0?i.split(" and "):[],b=i.indexOf(" or ")>=0?i.split(" or "):[];if(s=s.concat(w),o=o.concat(b),c=i.indexOf("|")>=0?i.split("|"):[],c.length>0)for(r=0;r<c.length;r++)c[r]=n.trim(c[r]);if(o=o.concat(c),s.length>0)for(r=0;r<s.length;r++)!s[r].indexOf(" OR ")>=0&&f.push(s[r]);if(o.length>0)for(r=0;r<o.length;r++)!o[r].indexOf(" AND ")>=0&&f.push(o[r]);for(l=undefined,a=0;a<f.length;a++)t=f[a],t&&t.indexOf&&t.indexOf("..")>=0?(y=t.toString().split(".."),y.length==2&&(e=u>=y[0]&&u<=y[1])):e=v(u,t),p=a<s.length?"and":"or",l=l==undefined?e:p=="or"?l||e:l&&e;return l}return i&&i.indexOf&&i.indexOf("..")>=0&&(f=i.toString().split(".."),f.length==2)?u>=f[0]&&u<=f[1]:v(u,i)}},a=function(t,i,r,u){var e,o,s,f;this.filtervalue=t;this.type="datefilter";e=this;r!=undefined&&u!=undefined?(o=n.jqx.dataFormat.parsedate(t,r,u),o!=null?this.filterdate=o:(s=n.jqx.dataFormat.tryparsedate(t,u),s!=null&&(this.filterdate=s))):(f=new Date(t),this.filterdate=f.toString()=="NaN"||f.toString()=="Invalid Date"?n.jqx.dataFormat.tryparsedate(t):f);this.filterdate||(f=new Date(t),this.filterdate=f.toString()=="NaN"||f.toString()=="Invalid Date"?n.jqx.dataFormat.tryparsedate(t):f);this.comparisonoperator=i;this.evaluate=function(t){var i=this.filtervalue,a=this.comparisonoperator,o,k,d,v,w,g,h,y,f,p,b,t,nt,s,tt;if(t==null||t==undefined||t==""){if(a=="NOT_NULL")return!1;if(a=="NULL")return!0;switch(a){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if(a=="NULL")return!1;if(a=="NOT_NULL")return!0;o=new Date;o.setFullYear(1900,0,1);o.setHours(12,0,0,0);try{k=new Date(t);t=k.toString()=="NaN"||k.toString()=="Invalid Date"?n.jqx.dataFormat.tryparsedate(t):k;o=t;d=!1;r!=undefined&&u!=undefined&&(r.indexOf("t")>=0||r.indexOf("T")>=0||r.indexOf(":")>=0||r.indexOf("f")>=0)&&(d=!0,i&&i.toString().indexOf(":")==-1&&(s=n.jqx.dataFormat.tryparsedate(i.toString()+":00",u),s!=null&&(e.filterdate=s)));d||(o.setHours(0),o.setMinutes(0),o.setSeconds(0))}catch(ut){if(t.toString()!="")return!1}if(e.filterdate!=null)i=e.filterdate;else if(i&&i.indexOf&&(i.indexOf(":")!=-1||!isNaN(parseInt(i)))){for(v=new Date(o),v.setHours(12,0,0,0),w=i.split(":"),f=0;f<w.length;f++)f==0&&v.setHours(w[f]),f==1&&v.setMinutes(w[f]),f==2&&v.setSeconds(w[f]);i=v}if(d&&i&&i.setFullYear&&o&&o.getFullYear&&r.indexOf("d")==-1&&r.indexOf("M")==-1&&r.indexOf("y")==-1&&i.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),g=function(t,i){t==null&&(t="");switch(a){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return n.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return n.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return n.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return n.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return n.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return n.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!n.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!n.jqx.string.contains(t.toString(),i.toString());default:return!0}},h=[],i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(s=g(o,i),s)return s;var l=i.indexOf(" AND ")>=0?i.split(" AND "):[],c=i.indexOf(" OR ")>=0?i.split(" OR "):[],it=i.indexOf(" and ")>=0?i.split(" and "):[],rt=i.indexOf(" or ")>=0?i.split(" or "):[];if(l=l.concat(it),c=c.concat(rt),y=i.indexOf("|")>=0?i.split("|"):[],y.length>0)for(f=0;f<y.length;f++)y[f]=n.trim(y[f]);if(c=c.concat(y),l.length>0)for(f=0;f<l.length;f++)!l[f].indexOf(" OR ")>=0&&h.push(l[f]);if(c.length>0)for(f=0;f<c.length;f++)!c[f].indexOf(" AND ")>=0&&h.push(c[f]);for(p=undefined,b=0;b<h.length;b++)t=h[b],t&&t.indexOf&&t.indexOf("..")>=0?(nt=t.toString().split(".."),nt.length==2&&(s=o>=nt[0]&&o<=nt[1])):s=g(o,t),tt=b<l.length?"and":"or",p=p==undefined?s:tt=="or"?p||s:p&&s;return p}return i&&i.indexOf&&i.indexOf("..")>=0&&(h=i.toString().split(".."),h.length==2)?o>=h[0]&&o<=h[1]:g(o,i)}},v=function(n,t,i){this.filtervalue=n;this.comparisonoperator=t;this.evaluate=function(n){return i(this.filtervalue,n,this.comparisonoperator)}}};n.jqx.longInt=function(){var t=this,n;return t.longObj={},n=t.longObj,n.mathObj={},n.mathObj.Long={},n.mathObj.Long=function(n,t){this.lowBits=n|0;this.highBits=t|0},n.mathObj.Long.IntCache={},n.mathObj.Long.fromInt=function(t){var i,r;return-128<=t&&t<128&&(i=n.mathObj.Long.IntCache[t],i)?i:(r=new n.mathObj.Long(t|0,t<0?-1:0),-128<=t&&t<128&&(n.mathObj.Long.IntCache[t]=r),r)},n.mathObj.Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?n.mathObj.Long.ZERO:t<=-n.mathObj.Long.TWO_PWR_63_DBL_?n.mathObj.Long.MIN_VALUE:t+1>=n.mathObj.Long.TWO_PWR_63_DBL_?n.mathObj.Long.MAX_VALUE:t<0?n.mathObj.Long.fromNumber(-t).negate():new n.mathObj.Long(t%n.mathObj.Long.TWO_PWR_32_DBL_|0,t/n.mathObj.Long.TWO_PWR_32_DBL_|0)},n.mathObj.Long.fromBits=function(t,i){return new n.mathObj.Long(t,i)},n.mathObj.Long.fromString=function(t,i){var r,s,u,f,e,o,h;if(t.length===0)throw new Error("number format error: empty string");if(r=i||10,r<2||36<r)throw new Error("radix out of range: "+r);if(t.charAt(0)==="-")return n.mathObj.Long.fromString(t.substring(1),r).negate();if(t.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+t);for(s=n.mathObj.Long.fromNumber(Math.pow(r,8)),u=n.mathObj.Long.ZERO,f=0;f<t.length;f+=8)e=Math.min(8,t.length-f),o=parseInt(t.substring(f,f+e),r),e<8?(h=n.mathObj.Long.fromNumber(Math.pow(r,e)),u=u.multiply(h).add(n.mathObj.Long.fromNumber(o))):(u=u.multiply(s),u=u.add(n.mathObj.Long.fromNumber(o)));return u},n.mathObj.Long.TWO_PWR_16_DBL_=65536,n.mathObj.Long.TWO_PWR_24_DBL_=16777216,n.mathObj.Long.TWO_PWR_32_DBL_=n.mathObj.Long.TWO_PWR_16_DBL_*n.mathObj.Long.TWO_PWR_16_DBL_,n.mathObj.Long.TWO_PWR_31_DBL_=n.mathObj.Long.TWO_PWR_32_DBL_/2,n.mathObj.Long.TWO_PWR_48_DBL_=n.mathObj.Long.TWO_PWR_32_DBL_*n.mathObj.Long.TWO_PWR_16_DBL_,n.mathObj.Long.TWO_PWR_64_DBL_=n.mathObj.Long.TWO_PWR_32_DBL_*n.mathObj.Long.TWO_PWR_32_DBL_,n.mathObj.Long.TWO_PWR_63_DBL_=n.mathObj.Long.TWO_PWR_64_DBL_/2,n.mathObj.Long.ZERO=n.mathObj.Long.fromInt(0),n.mathObj.Long.ONE=n.mathObj.Long.fromInt(1),n.mathObj.Long.NEG_ONE=n.mathObj.Long.fromInt(-1),n.mathObj.Long.MAX_VALUE=n.mathObj.Long.fromBits(4294967295|0,2147483647),n.mathObj.Long.MIN_VALUE=n.mathObj.Long.fromBits(0,2147483648|0),n.mathObj.Long.TWO_PWR_24_=n.mathObj.Long.fromInt(16777216),n.mathObj.Long.prototype.toInt=function(){return this.lowBits},n.mathObj.Long.prototype.toNumber=function(){return this.highBits*n.mathObj.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},n.mathObj.Long.prototype.toString=function(i){var r=i||10,u,f,o,s,h;if(r<2||36<r)throw new Error("radix out of range: "+r);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(n.mathObj.Long.MIN_VALUE))return o=n.mathObj.Long.fromNumber(r),s=this.div(o),u=s.multiply(o).subtract(this),s.toString(r)+u.toInt().toString(r);switch(r){case 2:case 8:case 16:return f="-"+this.negate().toString(2),t._negativeBinary(f,r);default:return"-"+this.negate().toString(r)}}for(h=n.mathObj.Long.fromNumber(Math.pow(r,6)),u=this,f="";;){var c=u.div(h),l=u.subtract(c.multiply(h)).toInt(),e=l.toString(r);if(u=c,u.isZero())return e+f;while(e.length<6)e="0"+e;f=""+e+f}},n.mathObj.Long.prototype.getHighBits=function(){return this.highBits},n.mathObj.Long.prototype.getLowBits=function(){return this.lowBits},n.mathObj.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:n.mathObj.Long.TWO_PWR_32_DBL_+this.lowBits},n.mathObj.Long.prototype.getNumBitsAbs=function(){var i,t;if(this.isNegative())return this.equals(n.mathObj.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(i=this.highBits!==0?this.highBits:this.lowBits,t=31;t>0;t--)if((i&1<<t)!=0)break;return this.highBits!==0?t+33:t+1},n.mathObj.Long.prototype.isZero=function(){return this.highBits===0&&this.lowBits===0},n.mathObj.Long.prototype.isNegative=function(){return this.highBits<0},n.mathObj.Long.prototype.isOdd=function(){return(this.lowBits&1)==1},n.mathObj.Long.prototype.equals=function(n){return this.highBits===n.highBits&&this.lowBits===n.lowBits},n.mathObj.Long.prototype.notEquals=function(n){return this.highBits!==n.highBits||this.lowBits!==n.lowBits},n.mathObj.Long.prototype.lessThan=function(n){return this.compare(n)<0},n.mathObj.Long.prototype.lessThanOrEqual=function(n){return this.compare(n)<=0},n.mathObj.Long.prototype.greaterThan=function(n){return this.compare(n)>0},n.mathObj.Long.prototype.greaterThanOrEqual=function(n){return this.compare(n)>=0},n.mathObj.Long.prototype.compare=function(n){if(this.equals(n))return 0;var t=this.isNegative(),i=n.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(n).isNegative()?-1:1},n.mathObj.Long.prototype.negate=function(){return this.equals(n.mathObj.Long.MIN_VALUE)?n.mathObj.Long.MIN_VALUE:this.not().add(n.mathObj.Long.ONE)},n.mathObj.Long.prototype.add=function(t){var e=this.highBits>>>16,o=this.highBits&65535,s=this.lowBits>>>16,h=this.lowBits&65535,c=t.highBits>>>16,l=t.highBits&65535,a=t.lowBits>>>16,v=t.lowBits&65535,u=0,i=0,r=0,f=0;return f+=h+v,r+=f>>>16,f&=65535,r+=s+a,i+=r>>>16,r&=65535,i+=o+l,u+=i>>>16,i&=65535,u+=e+c,u&=65535,n.mathObj.Long.fromBits(r<<16|f,u<<16|i)},n.mathObj.Long.prototype.subtract=function(n){return this.add(n.negate())},n.mathObj.Long.prototype.multiply=function(t){if(this.isZero()||t.isZero())return n.mathObj.Long.ZERO;if(this.equals(n.mathObj.Long.MIN_VALUE))return t.isOdd()?n.mathObj.Long.MIN_VALUE:n.mathObj.Long.ZERO;if(t.equals(n.mathObj.Long.MIN_VALUE))return this.isOdd()?n.mathObj.Long.MIN_VALUE:n.mathObj.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(n.mathObj.Long.TWO_PWR_24_)&&t.lessThan(n.mathObj.Long.TWO_PWR_24_))return n.mathObj.Long.fromNumber(this.toNumber()*t.toNumber());var a=this.highBits>>>16,c=this.highBits&65535,s=this.lowBits>>>16,f=this.lowBits&65535,v=t.highBits>>>16,l=t.highBits&65535,h=t.lowBits>>>16,e=t.lowBits&65535,u=0,i=0,r=0,o=0;return o+=f*e,r+=o>>>16,o&=65535,r+=s*e,i+=r>>>16,r&=65535,r+=f*h,i+=r>>>16,r&=65535,i+=c*e,u+=i>>>16,i&=65535,i+=s*h,u+=i>>>16,i&=65535,i+=f*l,u+=i>>>16,i&=65535,u+=a*e+c*h+s*l+f*v,u&=65535,n.mathObj.Long.fromBits(r<<16|o,u<<16|i)},n.mathObj.Long.prototype.div=function(t){var i,r,o,f;if(t.isZero())throw new Error("division by zero");else if(this.isZero())return n.mathObj.Long.ZERO;if(this.equals(n.mathObj.Long.MIN_VALUE))return t.equals(n.mathObj.Long.ONE)||t.equals(n.mathObj.Long.NEG_ONE)?n.mathObj.Long.MIN_VALUE:t.equals(n.mathObj.Long.MIN_VALUE)?n.mathObj.Long.ONE:(o=this.shiftRight(1),i=o.div(t).shiftLeft(1),i.equals(n.mathObj.Long.ZERO)?t.isNegative()?n.mathObj.Long.ONE:n.mathObj.Long.NEG_ONE:(r=this.subtract(t.multiply(i)),i.add(r.div(t))));if(t.equals(n.mathObj.Long.MIN_VALUE))return n.mathObj.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(f=n.mathObj.Long.ZERO,r=this;r.greaterThanOrEqual(t);){i=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(i)/Math.LN2),h=s<=48?1:Math.pow(2,s-48),u=n.mathObj.Long.fromNumber(i),e=u.multiply(t);e.isNegative()||e.greaterThan(r);)i-=h,u=n.mathObj.Long.fromNumber(i),e=u.multiply(t);u.isZero()&&(u=n.mathObj.Long.ONE);f=f.add(u);r=r.subtract(e)}return f},n.mathObj.Long.prototype.modulo=function(n){return this.subtract(this.div(n).multiply(n))},n.mathObj.Long.prototype.not=function(){return n.mathObj.Long.fromBits(~this.lowBits,~this.highBits)},n.mathObj.Long.prototype.and=function(t){return n.mathObj.Long.fromBits(this.lowBits&t.lowBits,this.highBits&t.highBits)},n.mathObj.Long.prototype.or=function(t){return n.mathObj.Long.fromBits(this.lowBits|t.lowBits,this.highBits|t.highBits)},n.mathObj.Long.prototype.xor=function(t){return n.mathObj.Long.fromBits(this.lowBits^t.lowBits,this.highBits^t.highBits)},n.mathObj.Long.prototype.shiftLeft=function(t){var i,r;return t&=63,t===0?this:(i=this.lowBits,t<32?(r=this.highBits,n.mathObj.Long.fromBits(i<<t,r<<t|i>>>32-t)):n.mathObj.Long.fromBits(0,i<<t-32))},n.mathObj.Long.prototype.shiftRight=function(t){var i,r;return t&=63,t===0?this:(i=this.highBits,t<32?(r=this.lowBits,n.mathObj.Long.fromBits(r>>>t|i<<32-t,i>>t)):n.mathObj.Long.fromBits(i>>t-32,i>=0?0:-1))},n.mathObj.Long.prototype.shiftRightUnsigned=function(t){var i,r;return t&=63,t===0?this:(i=this.highBits,t<32?(r=this.lowBits,n.mathObj.Long.fromBits(r>>>t|i<<32-t,i>>>t)):t===32?n.mathObj.Long.fromBits(i,0):n.mathObj.Long.fromBits(i>>>t-32,0))},n};n.jqx.math=function(){var t={},i=new n.jqx.longInt;return t.getDecimalNotation=function(n,t){function r(n){for(var i,r="",t=0;t<n.length;t++)i="-0123456789".indexOf(n.charAt(t)),r+=i!==-1?"⁻⁰¹²³⁴⁵⁶⁷⁸⁹"[i]:n[t];return r}function u(n){var i,r,t;if(n==="0")return parseInt(n).toExponential();for(n.charAt(0)==="-"?(i="-",n=n.slice(1,n.length)):i="",r=n.length-1;n.charAt(n.length-1)==="0";)n=n.slice(0,n.length-1);return t=n.slice(1,n.length),t!==""&&(t="."+t),i+""+n.charAt(0)+t+"e+"+r}function f(n){var i=n.indexOf("e"),u=n.slice(i+1),t=n.slice(0,i+1);return t=t.replace("e","×10"),t+=r(u),t.replace("+","")}function e(n){var i=n.indexOf("e"),e=n.slice(i+1),t=n.slice(0,i),u=parseInt(e,10)%3,f;return t=t*Math.pow(10,u),f=n.slice(0,i).length-u-2,f>=0&&(t=t.toFixed(f)),t+"×10"+r((parseInt(e,10)-u).toString())}if(t==="decimal")return n;n=n.toString();var i=u(n);return t==="scientific"?f(i):t==="engineering"?e(i):i},n.extend(t,i.mathObj.Long),t}})(jqxBaseFramework);