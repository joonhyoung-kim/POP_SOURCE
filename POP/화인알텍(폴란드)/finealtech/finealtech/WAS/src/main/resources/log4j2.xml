<?xml version="1.0" encoding="UTF-8"?>
<Configuration xmlns="http://logging.apache.org/log4j/2.0/config" status="OFF">
    <Properties>
    	<Property name="logPath" value="${sys:catalina.home}" />
		<Property name="logLevel" value="debug" />
	</Properties>
	<!-- 콘솔 로그 -->
	<Appenders>
		<Console name="console" target="SYSTEM_OUT">
			<PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss,SSS}] [%c{1}] [%L] [%p] %m %n" />
		</Console>
		<RollingFile name="dailyout" fileName="${logPath}/sampleLog/dailyout.log" filePattern="${logPath}/sampleLog/dailyout.log.%d{yyyy-MM-dd}.log">
			<PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss,SSS}] [%c{1}] [%L] [%p] %m %n" />
			<Policies>
				<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			</Policies>
		</RollingFile>
	</Appenders>
	<loggers>
		<!-- root 로거 기본 설정 -->
		<root level="${logLevel}" additivity="false">
			<appender-ref ref="console" />
		</root>
		
		<!-- Spring logging -->
		<logger name="org.springframework" level="${logLevel}" additivity="false">
			<appender-ref ref="dailyout" />
			<appender-ref ref="console" />
		</logger>
		
		<!-- MongoDB -->
		<logger name="org.mongodb.driver" level="off" additivity="false" />
		<logger name="de.flapdoodle" level="off" additivity="false" />
		
		<!-- database logging -->
		<logger name="jdbc.sqlonly" level="off" additivity="false">
			<appender-ref ref="console" />
		</logger>
		<logger name="jdbc.sqltiming" level="off" additivity="false" />
		<logger name="jdbc.audit" level="off" additivity="false" />
		<logger name="jdbc.resultset" level="off" additivity="false" />
		<logger name="jdbc.resultsettable" level="off" additivity="false" />
		<logger name="jdbc.connection" level="off" additivity="false" />
		<logger name="log4jdbc.log4j2" level="off" additivity="false">
			<Filters>
				<MarkerFilter marker="LOG4JDBC_SQL" onMatch="ACCEPT" onMismatch="DENY" />
				<MarkerFilter marker="LOG4JDBC_RESULTSET" onMatch="ACCEPT" onMismatch="DENY" />
			</Filters>
			<appender-ref ref="dailyout" />
			<appender-ref ref="console" />
		</logger>
	</loggers>
</Configuration>