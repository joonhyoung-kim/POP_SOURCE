(function(n){n.jqx.jqxWidget("jqxSplitter","",{});n.extend(n.jqx._jqxSplitter.prototype,{defineInstance:function(){var t={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:n.jqx.mobile.getTouchEventName("touchstart"),mouseup:n.jqx.mobile.getTouchEventName("touchend"),mousemove:n.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return n.extend(!0,this,t),t},createInstance:function(){this.render()},_initOverlay:function(t){if(this.overlay||t=="undefined")this.overlay.remove(),this.overlay=null;else if(t==!0){this.overlay=n("<div style='z-index: 100; background: #fff;'><\/div>");this.overlay.css("opacity",.01);this.overlay.css("position","absolute");this.overlay.appendTo(n(document.body));var i=this.host.coord();this.overlay.css("left","0px");this.overlay.css("top","0px");this.overlay.width(n(window).width());this.overlay.height(n(window).height());this.overlay.addClass("jqx-disableselect");this.orientation=="horizontal"?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(t){return t.target==this.splitBarButton[0]||this.disabled?!0:this.panels[0].collapsed||this.panels[1].collapsed||!this.resizable?!0:this.overlay==null?(this._dragging=!0,this._initOverlay(!0),this._dragStart=n.jqx.position(t),!1):!0},_drag:function(t){var r,h,c;if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled||!this._dragging)return!0;if(r=this.orientation=="horizontal"?"top":"left",h=this.orientation=="vertical"?"width":"height",this._position=n.jqx.position(t),this.overlay&&!this._splitBarClone&&Math.abs(this._position[r]-this._dragStart[r])>=3){c=this.splitBar.coord();this._cloneStart={left:c.left,top:c.top};this._splitBarClone=this._createSplitBarClone();this._raiseEvent(3,{panels:this.panels});return}if(this._splitBarClone){var u,f,o=this.host[h](),l=o/100,v=1/l,e=0,s=this._splitBarClone[h]()+2,a=parseInt(this.host.coord()[r]),i=this._position[r]-this._dragStart[r]+this._cloneStart[r]-a;return e>i&&(i=e),i>o+e-s&&(i=o+e-s),u=this.panels[0].min,f=this.panels[1].min,f.toString().indexOf("%")!=-1&&(f=parseFloat(f)*l),u.toString().indexOf("%")!=-1&&(u=parseFloat(u)*l),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),i<u&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),i=u),i>o+e-s-f&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),i=o+e-s-f),this._splitBarClone.css(r,i),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return!0},resize:function(n,t){this.width=n;this.height=t;this._arrange()},_resize:function(){var t=this.orientation=="horizontal"?"height":"width",i=this.orientation=="horizontal"?"top":"left",n=this._splitBarClone.css(i),r=this.host[t](),u=r/100,f=1/u,e=this.panels[0].size;this.panels[0].size=e.toString().indexOf("%")!=-1?parseFloat(n)*f+"%":parseFloat(n);this._layoutPanels();this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize();this._splitBarClone.remove();this._splitBarClone=null}},_createSplitBarClone:function(){var n=this.splitBar.clone();return n.fadeTo(0,.7),n.css("z-index",99999),this.orientation=="vertical"?n.css("cursor","col-resize"):n.css("cursor","row-resize"),this.host.append(n),n},_eventName:function(n){return this._isTouchDevice?this._eventsMap[n]:n},_addHandlers:function(){var t=this,i,r;n.jqx.utilities.resize(this.host,function(){t._layoutPanels()});this.addHandler(this.splitBar,"dragstart."+this.element.id,function(){return!1});this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var n=function(n){n.collapsed?t.expand():t.collapse()};t.panels[0].collapsible?n(t.panels[0]):t.panels[1].collapsible&&n(t.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){t.splitBarButton.addClass(t.toThemeProperty("jqx-splitter-collapse-button-hover"));t.splitBarButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){t.splitBarButton.removeClass(t.toThemeProperty("jqx-splitter-collapse-button-hover"));t.splitBarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}));this.addHandler(n(document),this._eventName("mousemove")+"."+this.element.id,function(n){return t._drag(n)});this.addHandler(n(document),this._eventName("mouseup")+"."+this.element.id,function(){return t._stopDrag()});this.addHandler(this.splitBar,this._eventName("mousedown"),function(n){return t._startDrag(n)});this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){t.resizable&&!t.disabled&&(t.splitBar.addClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.addClass(t.toThemeProperty("jqx-fill-state-hover")))});this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){t.resizable&&!t.disabled&&(t.splitBar.removeClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.removeClass(t.toThemeProperty("jqx-fill-state-hover")))});(document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self&&(i=null,window.parent&&document.referrer&&(i=document.referrer),i&&i.indexOf(document.location.host)!=-1&&(r=function(){t._stopDrag()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)))},_removeHandlers:function(){this.removeHandler(n(window),"resize."+this.element.id);this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave")));this.removeHandler(n(document),this._eventName("mousemove")+"."+this.element.id);this.removeHandler(n(document),this._eventName("mouseup")+"."+this.element.id);this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){var t,i,r,u;if(this.splitBar&&this.splitBar.remove(),t=this.host.children(),t.length!=2)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(t.length==2){if(i=t[0].className.split(" "),r=t[1].className.split(" "),i.indexOf("jqx-reset")!=-1&&i.indexOf("jqx-splitter")!=-1&&i.indexOf("jqx-widget")!=-1)throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(r.indexOf("jqx-reset")!=-1&&r.indexOf("jqx-splitter")!=-1&&r.indexOf("jqx-widget")!=-1)throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";}if(this.host.parent().length>0&&this.host.parent()[0].className.indexOf("jqx-splitter")!=-1){if(this.element.className.indexOf("jqx-splitter-panel")!=-1)throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0;this.width==300&&(this.width="100%");this.height==300&&(this.height="100%");this.width=="100%"&&this.height=="100%"&&(this.host.addClass("jqx-splitter-nested"),this.host.parent()[0].className.indexOf("jqx-splitter-panel")!=-1&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=this.host.hasClass("jqx-hideborder")==!1||this.element.style.borderTopWidth!="";this._removeHandlers();this._isTouchDevice=n.jqx.mobile.isTouchDevice();this._validate();this.panel1.css("left","0px");this.panel1.css("top","0px");this.panel2.css("left","0px");this.panel2.css("top","0px");this.splitBar=n("<div><div><\/div><\/div>");this.resizable||this.splitBar.css("cursor","default");this.splitBarButton=this.splitBar.find("div:last");this._setTheme();this.splitBar.insertAfter(this.panel1);this._arrange();this.panels[0].collapsible==!1&&this.panels[1].collapsible==!1&&this.splitBarButton.hide();u=this;this._addHandlers();this.initContent&&this.initContent();this.disabled&&this.disable()},_hiddenParent:function(){return n.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content"));this.panel2.addClass(this.toThemeProperty("jqx-widget-content"));this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel"));this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel"));this.panel1.addClass(this.toThemeProperty("jqx-reset"));this.panel2.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-splitter"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation));this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation));this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){var t=this.host.children();if(t.length!=2)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:this.panels==undefined&&(this.panels=[{size:"50%"},{size:"50%"}]);t=this.host.children();this.panel1=this.panels[0].element=n(t[0]);this.panel2=this.panels[1].element=n(t[1]);this.panel1[0].style.minWidth="";this.panel1[0].style.maxWidth="";this.panel2[0].style.minWidth="";this.panel2[0].style.maxWidth="";n.each(this.panels,function(){this.min==undefined&&(this.min=0);this.size==undefined&&(this.size=0);this.size<0&&(this.size=0);this.min<0&&(this.min=0);this.collapsible==undefined&&(this.collapsible=!0);this.collapsed==undefined&&(this.collapsed=!1);this.size!=0&&(this.size.toString().indexOf("px")!=-1&&(this.size=parseInt(this.size)),this.size.toString().indexOf("%")==-1?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):this.min.toString().indexOf("%")!=-1&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){var n,t,i;this.width!=null&&(n=this.width,typeof n!="string"&&(n=parseInt(this.width)+"px"),this.host.css("width",n));this.height!=null&&(t=this.height,typeof t!="string"&&(t=parseInt(this.height)+"px"),this.host.css("height",t));this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize;this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());i=this.orientation=="horizontal"?"width":"height";this.splitBar.css(i,"100%");this.panel1.css(i,"100%");this.panel2.css(i,"100%");this.orientation=="horizontal"?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize);this.orientation==="vertical"?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45));this.splitBarButton.css("position","relative");this.orientation==="vertical"?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px"));this._layoutPanels()},collapse:function(){if(!this.disabled){var n=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1;this.panels[0].element[0].style.visibility="inherit";this.panels[1].element[0].style.visibility="inherit";this.panels[0].collapsible?n=0:this.panels[1].collapsible&&(n=1);n!=-1&&(this.panels[n].collapsed=!0,this.panels[n].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:n,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var n=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1;this.panels[0].element[0].style.visibility="inherit";this.panels[1].element[0].style.visibility="inherit";this.panels[0].collapsible?n=0:this.panels[1].collapsible&&(n=1);n!=-1&&(this.panels[n].collapsed=!1,this.panels[n].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:n,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0;this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1;this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(n){n!=!0&&this._arrange()},propertyChangedHandler:function(t,i,r,u){if(i==="panels"||i==="orientation"||i==="showSplitBar"){t.render();return}i==="touchMode"&&(t._isTouchDevice=u);i==="disabled"?u?t.disable():t.enable():i==="theme"?n.jqx.utilities.setTheme(r,u,t.host):t.refresh()},_layoutPanels:function(){var n=this,t=this.orientation=="horizontal"?"height":"width",a=this.orientation=="horizontal"?"top":"left",e,u,w,b,o=parseInt(this._splitBarSize)+2,d,h,c,g,v,s;this.showSplitBar||(o=0);var l=this.host[t](),y=l/100,p=1/y,k=p*o,r=this.panel1,f=this.panel2,i=this.panels[0].size;this.panels[0].collapsed&&(w=!0);this.panels[1].collapsed&&(b=!0);e=this.panels[0].min;u=this.panels[1].min;u.toString().indexOf("%")!=-1&&(u=parseFloat(u)*y);e.toString().indexOf("%")!=-1&&(e=parseFloat(e)*y);this._isNested&&this._isTouchDevice&&(this.orientation=="horizontal"?(r.width(this.host.width()),f.width(this.host.width())):(r.height(this.host.height()),f.height(this.host.height())));d=function(){var i=n.panel1[t](),r;n.splitBar[0].style[a]!=i+"px"&&(r=i,n.orientation=="vertical"?(n.splitBar[0].style.borderLeftColor="",n.splitBar[0].style.borderRightColor="",n.splitBarButton[0].style.width=parseInt(n._splitBarSize)+"px",n.splitBarButton[0].style.left="0px"):(n.splitBar[0].style.borderTopColor="",n.splitBar[0].style.borderBottomColor="",n.splitBarButton[0].style.height=parseInt(n._splitBarSize)+"px",n.splitBarButton[0].style.top="0px"),n._hasBorder&&(l-o==i?n.orientation=="vertical"?(n.splitBar[0].style.borderRightColor="transparent",n.splitBarButton[0].style.width=parseInt(n._splitBarSize+1)+"px"):(n.splitBar[0].style.borderBottomColor="transparent",n.splitBarButton[0].style.height=parseInt(n._splitBarSize+1)+"px"):i==0&&(n.orientation=="vertical"?(n.splitBar[0].style.borderLeftColor="transparent",n.splitBarButton[0].style.width=parseInt(n._splitBarSize+1)+"px",n.splitBarButton[0].style.left="-1px"):(n.splitBar[0].style.borderTopColor="transparent",n.splitBarButton[0].style.height=parseInt(n._splitBarSize+1)+"px",n.splitBarButton[0].style.top="-1px"))),n.splitBar[0].style[a]=r+"px");n.panel2[0].style[a]!=i+o+"px"&&(n.panel2[0].style[a]=i+o+"px")};w?(h=Math.max(u,l-o),r[t](0),f[t](h)):b?(h=Math.max(e,l-o),f[t](0),r[t](h)):i.toString().indexOf("%")!=-1?(c=100-parseFloat(i),r.css(t,parseFloat(i)+"%"),c-=k,f.css(t,c+"%"),s=f[t](),s<u&&(h=s-u,v=h*p,i=parseFloat(i)+parseFloat(v),c=100-parseFloat(i),r.css(t,parseFloat(i)+"%"),c-=k,f.css(t,c+"%")),g=r[t](),g<e&&(v=e*p,r.css(t,parseFloat(v)+"%"))):(s=l-i-o,r[0].style[t]!=i+"px"&&r[t](i),f[0].style[t]!=s+"px"&&f[t](s),s<u&&(i+=s-u,f[t](u),r[t](i)),i<e&&r[t](e));d();this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers();n.jqx.utilities.resize(this.host,null,!0);this.host.remove()},_raiseEvent:function(t,i){var u=new n.Event(this._events[t]),f,r;return u.owner=this,u.args=i,f=this.orientation=="vertical"?"width":"height",r=[],r[0]={},r[1]={},r[0].size=this.orientation=="vertical"?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,r[1].size=this.orientation=="vertical"?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,r[0].min=this.panels[0].min,r[1].min=this.panels[1].min,r[0].collapsible=this.panels[0].collapsible,r[1].collapsible=this.panels[1].collapsible,r[0].collapsed=this.panels[0].collapsed,r[1].collapsed=this.panels[1].collapsed,u.args.panels=r,this.host.trigger(u)}})})(jqxBaseFramework);