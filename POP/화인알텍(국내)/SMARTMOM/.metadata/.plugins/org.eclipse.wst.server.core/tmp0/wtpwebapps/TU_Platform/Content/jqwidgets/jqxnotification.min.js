(function(n){n.jqx.jqxWidget("jqxNotification","",{});n.extend(n.jqx._jqxNotification.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return n.extend(!0,this,t),t},createInstance:function(){var n=this;n.render();n.autoOpen==!0&&n.open()},render:function(){var t=this,i;t.host.hasClass("jqx-notification")==!1?(t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-notification")),t.host.css({zIndex:t.zIndex,display:"none",opacity:t.opacity}),t._container=t._notificationContainer(),t._appendContent(),t._setHoverFunctions(),t._instances=[],t._instanceKey=0,i=n.data(document.body,"jqxNotifications"),i==undefined&&(i=0),n.data(document.body,"jqxNotifications",i+1)):t.refresh()},refresh:function(n){n||this._appendContent(!0)},open:function(){var n=this,t;n.disabled==!1&&(t=n.host.clone(),t.removeAttr("id"),t.width(n.width),t.height(n.height),this.width!=null&&this.width.toString().indexOf("%")!=-1&&t.css("width",this.width),this.height!=null&&this.height.toString().indexOf("%")!=-1&&t.css("height",this.height),n.appendContainer||n.position!="bottom-left"&&n.position!="bottom-right"?(t.css("margin-bottom",n.notificationOffset),n._container.append(t)):(t.css("margin-top",n.notificationOffset),n._container.prepend(t)),n._addHandlers(t),t.fadeIn(n.animationOpenDelay,function(){n._raiseEvent("0")}),n.blink==!0&&(t._blinkInterval=setInterval(function(){t.fadeTo(400,n.opacity/1.5,function(){t.fadeTo(400,n.opacity)})},850)),n.autoClose==!0&&(t._autoCloseTimeout=setTimeout(function(){n._close(t)},n.autoCloseDelay)),t._key=n._instanceKey,n._instances[n._instanceKey]=t,n._instanceKey++)},closeAll:function(){for(var n=this,t=0;t<n._instances.length;t++)n._instances[t]&&n._close(n._instances[t])},closeLast:function(){for(var n=this,t=n._instances.length;t>=0;t--)if(n._instances[t]){n._close(n._instances[t]);break}},destroy:function(){var t=this,i;t.closeAll();t.host.remove();i=n.data(document.body,"jqxNotifications");n.data(document.body,"jqxNotifications",i-1);t._destroyContainers(i-1)},propertyChangedHandler:function(n,t,i,r){var u=this,f,e;if(r!=i)switch(t){case"width":case"height":f=i.indexOf&&i.indexOf("%")!=-1;f=f==undefined?!1:f;e=r.indexOf&&r.indexOf("%")!=-1;e=e==undefined?!1:e;e!=f&&(u[t]=i);break;case"appendContainer":case"position":u._container=u._notificationContainer();break;case"browserBoundsOffset":u.appendContainer||u._position(u._container);break;case"opacity":u.host.css("opacity",r);break;case"showCloseButton":case"template":case"icon":case"rtl":u._appendContent(!0)}},_raiseEvent:function(t,i){var r=this,e=r.events[t],u=new n.Event(e),f;u.owner=r;u.args=i;try{f=r.host.trigger(u)}catch(o){}return f},_close:function(n){var t=this;t._instances[n._key]&&(t._instances[n._key]=!1,clearInterval(n._blinkInterval),clearTimeout(n._autoCloseTimeout),n.fadeOut(t.animationCloseDelay,function(){t._removeHandlers(n);n.remove();t._raiseEvent("1")}))},_addHandlers:function(n){var t=this,i;t.addHandler(n,"click.notification"+t.element.id,function(){t._raiseEvent("2");t.closeOnClick==!0&&t._close(n)});t.addHandler(n,"mouseenter.notification"+t.element.id,function(){n._blinkInterval||t.mouseenterFunction(n)});t.addHandler(n,"mouseleave.notification"+t.element.id,function(){n._blinkInterval||n.css("display")=="none"||t.mouseleaveFunction(n)});t.showCloseButton==!0&&(i=n.find(".jqx-notification-close-button"),t.addHandler(i,"click.notification"+t.element.id,function(i){i.stopPropagation();t._close(n)}))},_removeHandlers:function(n){var t=this,i;t.removeHandler(n,"click.notification"+t.element.id);t.removeHandler(n,"click.mouseenter"+t.element.id);t.removeHandler(n,"click.mouseleave"+t.element.id);i=n.find(".jqx-notification-close-button");i.length>0&&t.removeHandler(i,"click.notification"+t.element.id)},_appendContent:function(t){var i=this,e,c=i.host.html(),o,s,l,r,h,u,a,f;t||(e=i.host.children().detach());t&&(i.host.removeAttr("class"),i.host.addClass(i.toThemeProperty("jqx-rc-all")),i.host.addClass(i.toThemeProperty("jqx-notification")));o=n("<table class='"+i.toThemeProperty("jqx-notification-table")+"'><\/table>");s=n("<tr><\/tr>");o.append(s);l=i.rtl?"jqx-notification-content-rtl":"";t?(r=i.host.find(".jqx-notification-content"),c=r.html(),e=r.detach(),i.rtl?r.addClass("jqx-notification-content-rtl"):r.removeClass("jqx-notification-content-rtl")):r=n("<td class='"+i.toThemeProperty("jqx-notification-content")+" "+l+"'><\/td>");s.html(r);h=function(){i.rtl==!1?(u.addClass("jqx-notification-icon-ltr"),r.before(u)):(u.addClass("jqx-notification-icon-rtl"),r.after(u))};i.template?(i.host.addClass("jqx-widget"),i.host.addClass("jqx-popup"),i.host.addClass("jqx-notification-"+i.template),u=n("<td class='"+i.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+i.template+"'><\/td>"),h()):(i.host.addClass(i.toThemeProperty("jqx-widget")),i.host.addClass(i.toThemeProperty("jqx-popup")),i.host.addClass(i.toThemeProperty("jqx-fill-state-normal")),i.icon&&(u=n("<td class='"+i.toThemeProperty("jqx-notification-icon")+"'><\/td>"),i.icon.padding=i.icon.padding?parseInt(i.icon.padding):5,u.css({width:parseInt(i.icon.width)+i.icon.padding,height:i.icon.height,"background-image":"url('"+i.icon.url+"')"}),h()));i.showCloseButton==!0&&(a=i.template?"jqx-notification-close-button jqx-notification-close-button-"+i.template:i.toThemeProperty("jqx-icon-close")+" "+i.toThemeProperty("jqx-notification-close-button"),f=n("<td class='"+i.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+a+" "+i.element.id+"CloseButton' title='Close'><\/div><\/td>"),i.rtl==!1?(f.find("div").addClass("jqx-notification-close-button-ltr"),r.after(f)):(f.find("div").addClass("jqx-notification-close-button-rtl"),r.before(f)));i.host[0].innerHTML="";i.host.append(o);e.length>0?i.host.find(".jqx-notification-content").append(e):i.host.find(".jqx-notification-content").html(c)},_position:function(n){var t=this,i,r,u,f;switch(t.position){case"top-right":i="";r=t.browserBoundsOffset;u=t.browserBoundsOffset;f="";break;case"top-left":i=t.browserBoundsOffset;r="";u=t.browserBoundsOffset;f="";break;case"bottom-left":i=t.browserBoundsOffset;r="";u="";f=t.browserBoundsOffset;break;case"bottom-right":i="";r=t.browserBoundsOffset;u="";f=t.browserBoundsOffset}n.css({left:i,right:r,top:u,bottom:f})},_notificationContainer:function(){var t=this,i;if(t.appendContainer){if(i=n(t.appendContainer),i.length==0)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+t.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.");}else i=n("#jqxNotificationDefaultContainer-"+t.position),i.length==0&&(n("body").append("<div id='jqxNotificationDefaultContainer-"+t.position+"' class='jqx-notification-container'><\/div>"),i=n("#jqxNotificationDefaultContainer-"+t.position),t.width.indexOf&&t.width.indexOf("%")!=-1&&i.addClass(t.toThemeProperty("jqx-notification-container-full-width")),t.height.indexOf&&t.height.indexOf("%")!=-1&&i.addClass(t.toThemeProperty("jqx-notification-container-full-height")),t._position(i));return i},_destroyContainers:function(t){t==0&&n(".jqx-notification-container").remove()},_setHoverFunctions:function(){var t=this,i=!1;n.jqx.browser.browser=="msie"&&n.jqx.browser.version=="9.0"&&(i=!0);i==!1?(t.mouseenterFunction=function(n){n.fadeTo("fast",t.hoverOpacity)},t.mouseleaveFunction=function(n){n.fadeTo("fast",t.opacity)}):(t.mouseenterFunction=function(n){n.css("filter","alpha(opacity = "+t.hoverOpacity*100+")")},t.mouseleaveFunction=function(n){n.css("filter","alpha(opacity = "+t.opacity*100+")")})}})})(jqxBaseFramework);